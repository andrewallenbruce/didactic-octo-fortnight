/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => autoGlossary
});
module.exports = __toCommonJS(main_exports);
var import_obsidian4 = require("obsidian");

// src/modal.ts
var import_obsidian2 = require("obsidian");

// src/utils.ts
var import_obsidian = require("obsidian");
function getEnum(value) {
  let result = "glossaryIndex" /* gi */;
  switch (value.toLowerCase()) {
    case "glossary":
      result = "glossary" /* g */;
      break;
    case "index":
      result = "index" /* i */;
      break;
    case "glossaryindex":
      result = "glossaryIndex" /* gi */;
      break;
    default:
      break;
  }
  return result;
}
function fileExists(fileName) {
  const notesTFiles = global.app.vault.getMarkdownFiles();
  let result;
  result = notesTFiles.some((file) => file.name.contains(fileName));
  if (result) {
    new import_obsidian.Notice("Already existing file" + fileName + ".md");
  }
  return result;
}
async function cleanFiles(notesTFiles) {
  const { vault } = this.app;
  let cleanedNotes = [];
  notesTFiles.forEach(async (file) => {
    const fileContent = await vault.cachedRead(file);
    if (!fileContent.toString().contains("---\ntags: obsidian-auto-glossary\n---\n")) {
      cleanedNotes.push(file);
    }
  });
  return cleanedNotes;
}

// src/modal.ts
var CreateFileModal = class extends import_obsidian2.Modal {
  constructor(app, onSubmit, passedFolder, passedName, passedOption) {
    super(app);
    this.onSubmit = onSubmit;
    this.chosenFolder = passedFolder ? passedFolder : "";
    this.fileName = passedName ? passedName : "";
    this.option = passedOption ? passedOption : "";
  }
  onOpen() {
    const { contentEl } = this;
    contentEl.createEl("h1", { text: "AutoGlossary" });
    new import_obsidian2.Setting(contentEl).setName("Folder").setDesc("The folder to get the files indexed from.").addText((text) => text.onChange((value) => {
      this.chosenFolder = value;
    }).setValue(this.chosenFolder));
    new import_obsidian2.Setting(contentEl).setName("Same destination as folder").setDesc("If on, the file will be created in the same folder specified above and the 'Destination' field will be disabled.").addToggle((toggle) => toggle.setValue(true).onChange((value) => {
      destination.setDisabled(value);
      if (value) {
        this.destFolder = this.chosenFolder;
      }
    }));
    let destination = new import_obsidian2.Setting(contentEl);
    destination.setName("Destination").setDesc("If the toggle above is on, specify here the destination folder for the file created.").addText((text) => text.onChange((value) => {
      this.destFolder = value;
    }).setValue(this.destFolder).setDisabled(true)).setDisabled(true);
    new import_obsidian2.Setting(contentEl).setName("File name").setDesc("The name of the created file.").addText((text) => text.onChange((value) => {
      this.fileName = value;
    }).setValue(this.fileName));
    new import_obsidian2.Setting(contentEl).setName("File order").setDesc("The order for the files to be indexed.").addDropdown((drop) => drop.addOption("default", "Default").addOption("mtime_new", "Modification time - Newest to oldest").addOption("mtime_old", "Modification time - Oldest to newest").addOption("ctime_new", "Creation time - Newest to oldest").addOption("ctime_old", "Creation time - Oldest to newest").addOption("alphabetical", "Alphabetical").addOption("alphabetical_rev", "Alphabetical - Reverse").setValue("default").onChange((chosen) => {
      this.fileOrder = chosen;
    }));
    new import_obsidian2.Setting(contentEl).setName("File type").setDesc("Choose between index, glossary or both.").addDropdown((drop) => drop.addOption("glossary", "Glossary").addOption("index", "Index").addOption("glossaryindex", "Glossary with index").onChange((chosen) => {
      this.option = chosen;
    }).setValue(this.option ? this.option : "index"));
    new import_obsidian2.Setting(contentEl).addButton((btn) => btn.setButtonText("Submit").setCta().onClick(() => {
      if (!this.fileName) {
        this.fileName = this.option;
      }
      if (!fileExists(this.fileName)) {
        this.close();
        this.onSubmit(this.option, this.fileName, this.chosenFolder, this.fileOrder, this.destFolder);
      }
    }));
  }
  onClose() {
    let { contentEl } = this;
    contentEl.empty();
  }
};

// src/glossaryIndex.ts
var import_obsidian3 = require("obsidian");
async function getFiles(requestedFile, fileInclusion, fileName, chosenFolder, fileOrder) {
  let notesTFile = global.app.vault.getMarkdownFiles();
  let notes = [];
  if (!fileInclusion) {
    notesTFile = await cleanFiles(notesTFile);
  }
  switch (fileOrder) {
    case "ctime_new":
      notesTFile.sort((a, b) => b.stat.ctime - a.stat.ctime);
      break;
    case "ctime_old":
      notesTFile.sort((a, b) => a.stat.ctime - b.stat.ctime);
      break;
    case "mtime_new":
      notesTFile.sort((a, b) => b.stat.mtime - a.stat.mtime);
      break;
    case "mtime_old":
      notesTFile.sort((a, b) => a.stat.mtime - b.stat.mtime);
      break;
    case "alphabetical":
      notesTFile.sort((a, b) => {
        const nameA = a.name.toUpperCase();
        const nameB = b.name.toUpperCase();
        if (nameA < nameB) {
          return -1;
        }
        if (nameA > nameB) {
          return 1;
        }
        return 0;
      });
      break;
    case "alphabetical_rev":
      notesTFile.sort((a, b) => {
        const nameA = a.name.toUpperCase();
        const nameB = b.name.toUpperCase();
        if (nameA > nameB) {
          return -1;
        }
        if (nameA < nameB) {
          return 1;
        }
        return 0;
      });
      break;
    case "default":
    default:
      break;
  }
  notesTFile.forEach((file) => {
    if (chosenFolder && file.path.includes(chosenFolder)) {
      notes.push(file.name);
    } else if (!chosenFolder) {
      notes.push(file.name);
    }
  });
  const glossaryArray = [];
  const indexArray = [];
  notes.forEach((note) => {
    const noteName = note.slice(0, -3);
    if (requestedFile == "glossaryIndex" /* gi */) {
      indexArray.push("- [[" + fileName + "#" + noteName + "|" + noteName + "]]\n");
    } else {
      indexArray.push("- [[" + noteName + "]]\n");
    }
    glossaryArray.push("#### ![[" + noteName + "]]\n\n***\n\n");
  });
  const indexText = "## Index\n" + indexArray.toString().replace(/,/g, "");
  const glossaryText = "## Glossary\n" + glossaryArray.toString().replace(/,/g, "");
  return [indexText, glossaryText];
}
async function createFile(requestedFile, fileInclusion, fileName, chosenFolder, fileOrder, destFolder) {
  let completeFileName = "";
  if (destFolder) {
    if (fileName) {
      completeFileName = destFolder + "/" + fileName;
    } else {
      completeFileName = destFolder + "/" + requestedFile;
    }
  } else if (chosenFolder) {
    if (fileName) {
      completeFileName = chosenFolder + "/" + fileName;
    } else {
      completeFileName = chosenFolder + "/" + requestedFile;
    }
  } else {
    completeFileName = requestedFile;
  }
  if (!fileExists(completeFileName)) {
    this.app.vault.create(completeFileName + ".md", await createText(requestedFile, fileInclusion, fileName, chosenFolder, fileOrder));
    new import_obsidian3.Notice(`${completeFileName} file created`);
  }
}
async function createText(requestedFile, fileInclusion, fileName, chosenFolder, fileOrder) {
  let array = await getFiles(requestedFile, fileInclusion, fileName, chosenFolder, fileOrder);
  let text = "---\ntags: obsidian-auto-glossary\n---\n";
  switch (requestedFile) {
    case "glossary" /* g */:
      text += array[1];
      break;
    case "index" /* i */:
      text += array[0];
      break;
    case "glossaryIndex" /* gi */:
      text += array[0] + "\n***\n\n" + array[1];
      break;
    default:
      break;
  }
  return text;
}

// src/main.ts
var DEFAULT_SETTINGS = {
  fileInclusion: false
};
var autoGlossary = class extends import_obsidian4.Plugin {
  async onload() {
    console.log("Auto Glossary enabled");
    await this.loadSettings();
    this.registerEvent(this.app.workspace.on("file-menu", (menu, folder) => {
      if (folder instanceof import_obsidian4.TFolder) {
        menu.addItem((item) => {
          item.setTitle("Create index file").setIcon("list").onClick(async () => {
            new CreateFileModal(this.app, (option, fileName, chosenFolder, fileOrder, destFolder) => {
              createFile(getEnum(option), this.settings.fileInclusion, fileName, chosenFolder, fileOrder, destFolder);
            }, folder.path, folder.name + "_Index", "index").open();
          });
        });
      }
    }));
    this.registerEvent(this.app.workspace.on("file-menu", (menu, folder) => {
      if (folder instanceof import_obsidian4.TFolder) {
        menu.addItem((item) => {
          item.setTitle("Create glossary file").setIcon("layout-list").onClick(async () => {
            new CreateFileModal(this.app, (option, fileName, chosenFolder, fileOrder, destFolder) => {
              createFile(getEnum(option), this.settings.fileInclusion, fileName, chosenFolder, fileOrder, destFolder);
            }, folder.path, folder.name + "_Glossary", "glossary").open();
          });
        });
      }
    }));
    this.registerEvent(this.app.workspace.on("file-menu", (menu, folder) => {
      if (folder instanceof import_obsidian4.TFolder) {
        menu.addItem((item) => {
          item.setTitle("Create index+glossary file").setIcon("list-ordered").onClick(async () => {
            new CreateFileModal(this.app, (option, fileName, chosenFolder, fileOrder, destFolder) => {
              createFile(getEnum(option), this.settings.fileInclusion, fileName, chosenFolder, fileOrder, destFolder);
            }, folder.path, folder.name + "_GlossaryIndex", "glossaryindex").open();
          });
        });
      }
    }));
    this.addCommand({
      id: "create-glossary",
      name: "Create glossary",
      callback: () => {
        new CreateFileModal(this.app, (option, fileName, chosenFolder, fileOrder, destFolder) => {
          createFile(getEnum(option), this.settings.fileInclusion, fileName, chosenFolder, fileOrder, destFolder);
        }).open();
      }
    });
    this.addSettingTab(new SettingTab(this.app, this));
  }
  onunload() {
    console.log("Auto Glossary disabled");
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
};
var SettingTab = class extends import_obsidian4.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Auto Glossary Settings" });
    new import_obsidian4.Setting(containerEl).setName("File inclusion").setDesc("Include previously generated files in glossaries and indexes").addToggle((toggle) => toggle.setValue(this.plugin.settings.fileInclusion).onChange(async (value) => {
      console.log("fileInclusion switched to " + value);
      this.plugin.settings.fileInclusion = value;
      await this.plugin.saveSettings();
    }));
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL21vZGFsLnRzIiwgInNyYy91dGlscy50cyIsICJzcmMvZ2xvc3NhcnlJbmRleC50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHtcblx0QXBwLFxuXHROb3RpY2UsXG5cdFBsdWdpbixcblx0UGx1Z2luU2V0dGluZ1RhYixcblx0U2V0dGluZyxcblx0VEZvbGRlcixcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmltcG9ydCB7IENyZWF0ZUZpbGVNb2RhbCB9IGZyb20gXCIuL21vZGFsXCI7XG5pbXBvcnQgeyBjcmVhdGVGaWxlIH0gZnJvbSBcIi4vZ2xvc3NhcnlJbmRleFwiO1xuaW1wb3J0IHsgZ2V0RW51bSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmludGVyZmFjZSBBdXRvR2xvc3NhcnlTZXR0aW5ncyB7XG5cdGZpbGVJbmNsdXNpb246IGJvb2xlYW47XG59XG5cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEF1dG9HbG9zc2FyeVNldHRpbmdzID0ge1xuXHRmaWxlSW5jbHVzaW9uOiBmYWxzZSxcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIGF1dG9HbG9zc2FyeSBleHRlbmRzIFBsdWdpbiB7XG5cdC8vIFNFVFRJTkdTXG5cdHNldHRpbmdzOiBBdXRvR2xvc3NhcnlTZXR0aW5ncztcblx0YXN5bmMgb25sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiQXV0byBHbG9zc2FyeSBlbmFibGVkXCIpO1xuXG5cdFx0Ly9TRVRUSU5HU1xuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cblx0XHQvKiAvLyBUaGlzIGNyZWF0ZXMgYW4gaWNvbiBpbiB0aGUgbGVmdCByaWJib24uXG5cdFx0Y29uc3QgcmliYm9uSWNvbkVsID0gdGhpcy5hZGRSaWJib25JY29uKFxuXHRcdFx0XCJkaWNlXCIsXG5cdFx0XHRcIkF1dG8gR2xvc3NhcnlcIixcblx0XHRcdChldnQ6IE1vdXNlRXZlbnQpID0+IHtcblx0XHRcdH1cblx0XHQpO1xuXHRcdC8vIFBlcmZvcm0gYWRkaXRpb25hbCB0aGluZ3Mgd2l0aCB0aGUgcmliYm9uXG5cdFx0cmliYm9uSWNvbkVsLmFkZENsYXNzKFwibXktcGx1Z2luLXJpYmJvbi1jbGFzc1wiKTsqL1xuXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmb2xkZXIpID0+IHtcblx0XHRcdFx0aWYgKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJDcmVhdGUgaW5kZXggZmlsZVwiKVxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImxpc3RcIilcblx0XHRcdFx0XHRcdFx0Lm9uQ2xpY2soYXN5bmMgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdG5ldyBDcmVhdGVGaWxlTW9kYWwoXG5cdFx0XHRcdFx0XHRcdFx0XHR0aGlzLmFwcCxcblx0XHRcdFx0XHRcdFx0XHRcdChcblx0XHRcdFx0XHRcdFx0XHRcdFx0b3B0aW9uLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hvc2VuRm9sZGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlT3JkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRlc3RGb2xkZXJcblx0XHRcdFx0XHRcdFx0XHRcdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjcmVhdGVGaWxlKFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGdldEVudW0ob3B0aW9uKSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZpbGVJbmNsdXNpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Y2hvc2VuRm9sZGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVPcmRlcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkZXN0Rm9sZGVyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHRcdFx0Zm9sZGVyLnBhdGgsXG5cdFx0XHRcdFx0XHRcdFx0XHRmb2xkZXIubmFtZSArIFwiX0luZGV4XCIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcImluZGV4XCJcblx0XHRcdFx0XHRcdFx0XHQpLm9wZW4oKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMucmVnaXN0ZXJFdmVudChcblx0XHRcdHRoaXMuYXBwLndvcmtzcGFjZS5vbihcImZpbGUtbWVudVwiLCAobWVudSwgZm9sZGVyKSA9PiB7XG5cdFx0XHRcdGlmIChmb2xkZXIgaW5zdGFuY2VvZiBURm9sZGVyKSB7XG5cdFx0XHRcdFx0bWVudS5hZGRJdGVtKChpdGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRpdGVtLnNldFRpdGxlKFwiQ3JlYXRlIGdsb3NzYXJ5IGZpbGVcIilcblx0XHRcdFx0XHRcdFx0LnNldEljb24oXCJsYXlvdXQtbGlzdFwiKVxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IENyZWF0ZUZpbGVNb2RhbChcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0XHRcdFx0KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVOYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVPcmRlcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzdEZvbGRlclxuXHRcdFx0XHRcdFx0XHRcdFx0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNyZWF0ZUZpbGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0RW51bShvcHRpb24pLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZmlsZUluY2x1c2lvbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZU9yZGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc3RGb2xkZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRmb2xkZXIucGF0aCxcblx0XHRcdFx0XHRcdFx0XHRcdGZvbGRlci5uYW1lICsgXCJfR2xvc3NhcnlcIixcblx0XHRcdFx0XHRcdFx0XHRcdFwiZ2xvc3NhcnlcIlxuXHRcdFx0XHRcdFx0XHRcdCkub3BlbigpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHQpO1xuXG5cdFx0dGhpcy5yZWdpc3RlckV2ZW50KFxuXHRcdFx0dGhpcy5hcHAud29ya3NwYWNlLm9uKFwiZmlsZS1tZW51XCIsIChtZW51LCBmb2xkZXIpID0+IHtcblx0XHRcdFx0aWYgKGZvbGRlciBpbnN0YW5jZW9mIFRGb2xkZXIpIHtcblx0XHRcdFx0XHRtZW51LmFkZEl0ZW0oKGl0ZW0pID0+IHtcblx0XHRcdFx0XHRcdGl0ZW0uc2V0VGl0bGUoXCJDcmVhdGUgaW5kZXgrZ2xvc3NhcnkgZmlsZVwiKVxuXHRcdFx0XHRcdFx0XHQuc2V0SWNvbihcImxpc3Qtb3JkZXJlZFwiKVxuXHRcdFx0XHRcdFx0XHQub25DbGljayhhc3luYyAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bmV3IENyZWF0ZUZpbGVNb2RhbChcblx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdFx0XHRcdFx0KFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvcHRpb24sXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVOYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGZpbGVPcmRlcixcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGVzdEZvbGRlclxuXHRcdFx0XHRcdFx0XHRcdFx0KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNyZWF0ZUZpbGUoXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0Z2V0RW51bShvcHRpb24pLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZmlsZUluY2x1c2lvbixcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRmaWxlTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0ZmlsZU9yZGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRlc3RGb2xkZXJcblx0XHRcdFx0XHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdFx0XHRmb2xkZXIucGF0aCxcblx0XHRcdFx0XHRcdFx0XHRcdGZvbGRlci5uYW1lICsgXCJfR2xvc3NhcnlJbmRleFwiLFxuXHRcdFx0XHRcdFx0XHRcdFx0XCJnbG9zc2FyeWluZGV4XCJcblx0XHRcdFx0XHRcdFx0XHQpLm9wZW4oKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0KTtcblxuXHRcdHRoaXMuYWRkQ29tbWFuZCh7XG5cdFx0XHRpZDogXCJjcmVhdGUtZ2xvc3NhcnlcIixcblx0XHRcdG5hbWU6IFwiQ3JlYXRlIGdsb3NzYXJ5XCIsXG5cdFx0XHRjYWxsYmFjazogKCkgPT4ge1xuXHRcdFx0XHRuZXcgQ3JlYXRlRmlsZU1vZGFsKFxuXHRcdFx0XHRcdHRoaXMuYXBwLFxuXHRcdFx0XHRcdChvcHRpb24sIGZpbGVOYW1lLCBjaG9zZW5Gb2xkZXIsIGZpbGVPcmRlciwgZGVzdEZvbGRlcikgPT4ge1xuXHRcdFx0XHRcdFx0Y3JlYXRlRmlsZShcblx0XHRcdFx0XHRcdFx0Z2V0RW51bShvcHRpb24pLFxuXHRcdFx0XHRcdFx0XHR0aGlzLnNldHRpbmdzLmZpbGVJbmNsdXNpb24sXG5cdFx0XHRcdFx0XHRcdGZpbGVOYW1lLFxuXHRcdFx0XHRcdFx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdGZpbGVPcmRlcixcblx0XHRcdFx0XHRcdFx0ZGVzdEZvbGRlclxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdCkub3BlbigpO1xuXHRcdFx0fSxcblx0XHR9KTtcblxuXHRcdC8vIFNFVFRJTkdTXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cblx0XHR0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblx0fVxuXG5cdG9udW5sb2FkKCkge1xuXHRcdGNvbnNvbGUubG9nKFwiQXV0byBHbG9zc2FyeSBkaXNhYmxlZFwiKTtcblx0fVxuXG5cdC8vIFNFVFRJTkdTXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcblx0XHR0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbihcblx0XHRcdHt9LFxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcblx0XHRcdGF3YWl0IHRoaXMubG9hZERhdGEoKVxuXHRcdCk7XG5cdH1cblxuXHRhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcblx0fVxufVxuXG4vLyBTRVRUSU5HU1xuY2xhc3MgU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuXHRwbHVnaW46IGF1dG9HbG9zc2FyeTtcblxuXHRjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBhdXRvR2xvc3NhcnkpIHtcblx0XHRzdXBlcihhcHAsIHBsdWdpbik7XG5cdFx0dGhpcy5wbHVnaW4gPSBwbHVnaW47XG5cdH1cblxuXHRkaXNwbGF5KCk6IHZvaWQge1xuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG5cblx0XHRjb250YWluZXJFbC5lbXB0eSgpO1xuXG5cdFx0Y29udGFpbmVyRWwuY3JlYXRlRWwoXCJoMlwiLCB7IHRleHQ6IFwiQXV0byBHbG9zc2FyeSBTZXR0aW5nc1wiIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZShcIkZpbGUgaW5jbHVzaW9uXCIpXG5cdFx0XHQuc2V0RGVzYyhcblx0XHRcdFx0XCJJbmNsdWRlIHByZXZpb3VzbHkgZ2VuZXJhdGVkIGZpbGVzIGluIGdsb3NzYXJpZXMgYW5kIGluZGV4ZXNcIlxuXHRcdFx0KVxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0XHR0b2dnbGVcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZUluY2x1c2lvbilcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhcImZpbGVJbmNsdXNpb24gc3dpdGNoZWQgdG8gXCIgKyB2YWx1ZSk7XG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5maWxlSW5jbHVzaW9uID0gdmFsdWU7XG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR9KVxuXHRcdFx0KTtcblx0fVxufVxuIiwgImltcG9ydCB7IEFwcCwgTW9kYWwsIE5vdGljZSwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgZmlsZUV4aXN0cyB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbmV4cG9ydCBjbGFzcyBDcmVhdGVGaWxlTW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG5cdG9wdGlvbjogc3RyaW5nO1xuXHRmaWxlTmFtZTogc3RyaW5nO1xuXHRjaG9zZW5Gb2xkZXI6IHN0cmluZztcblx0ZmlsZU9yZGVyOiBzdHJpbmc7XG5cdGRlc3RGb2xkZXI6IHN0cmluZztcblx0b25TdWJtaXQ6IChcblx0XHRvcHRpb246IHN0cmluZyxcblx0XHRmaWxlTmFtZT86IHN0cmluZyxcblx0XHRjaG9zZW5Gb2xkZXI/OiBzdHJpbmcsXG5cdFx0ZmlsZU9yZGVyPzogc3RyaW5nLFxuXHRcdGRlc3RGb2xkZXI/OiBzdHJpbmdcblx0KSA9PiB2b2lkO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdGFwcDogQXBwLFxuXHRcdG9uU3VibWl0OiAoXG5cdFx0XHRvcHRpb246IHN0cmluZyxcblx0XHRcdGZpbGVOYW1lOiBzdHJpbmcsXG5cdFx0XHRjaG9zZW5Gb2xkZXI6IHN0cmluZyxcblx0XHRcdGZpbGVPcmRlcjogc3RyaW5nLFxuXHRcdFx0ZGVzdEZvbGRlcjogc3RyaW5nXG5cdFx0KSA9PiB2b2lkLFxuXHRcdHBhc3NlZEZvbGRlcj86IHN0cmluZyxcblx0XHRwYXNzZWROYW1lPzogc3RyaW5nLFxuXHRcdHBhc3NlZE9wdGlvbj86IHN0cmluZ1xuXHQpIHtcblx0XHRzdXBlcihhcHApO1xuXHRcdHRoaXMub25TdWJtaXQgPSBvblN1Ym1pdDtcblx0XHR0aGlzLmNob3NlbkZvbGRlciA9IHBhc3NlZEZvbGRlciA/IHBhc3NlZEZvbGRlciA6IFwiXCI7XG5cdFx0dGhpcy5maWxlTmFtZSA9IHBhc3NlZE5hbWUgPyBwYXNzZWROYW1lIDogXCJcIjtcblx0XHR0aGlzLm9wdGlvbiA9IHBhc3NlZE9wdGlvbiA/IHBhc3NlZE9wdGlvbiA6IFwiXCI7XG5cdH1cblxuXHRvbk9wZW4oKSB7XG5cdFx0Y29uc3QgeyBjb250ZW50RWwgfSA9IHRoaXM7XG5cblx0XHRjb250ZW50RWwuY3JlYXRlRWwoXCJoMVwiLCB7IHRleHQ6IFwiQXV0b0dsb3NzYXJ5XCIgfSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpLnNldE5hbWUoXCJGb2xkZXJcIikuc2V0RGVzYyhcIlRoZSBmb2xkZXIgdG8gZ2V0IHRoZSBmaWxlcyBpbmRleGVkIGZyb20uXCIpLmFkZFRleHQoKHRleHQpID0+XG5cdFx0XHR0ZXh0XG5cdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLmNob3NlbkZvbGRlciA9IHZhbHVlO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5jaG9zZW5Gb2xkZXIpXG5cdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuc2V0TmFtZShcIlNhbWUgZGVzdGluYXRpb24gYXMgZm9sZGVyXCIpLnNldERlc2MoXCJJZiBvbiwgdGhlIGZpbGUgd2lsbCBiZSBjcmVhdGVkIGluIHRoZSBzYW1lIGZvbGRlciBzcGVjaWZpZWQgYWJvdmUgYW5kIHRoZSAnRGVzdGluYXRpb24nIGZpZWxkIHdpbGwgYmUgZGlzYWJsZWQuXCIpLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxuXHRcdFx0dG9nZ2xlLnNldFZhbHVlKHRydWUpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRkZXN0aW5hdGlvbi5zZXREaXNhYmxlZCh2YWx1ZSk7XG5cdFx0XHRcdGlmICh2YWx1ZSkge1xuXHRcdFx0XHRcdHRoaXMuZGVzdEZvbGRlciA9IHRoaXMuY2hvc2VuRm9sZGVyO1xuXHRcdFx0XHR9XG5cdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRsZXQgZGVzdGluYXRpb24gPSBuZXcgU2V0dGluZyhjb250ZW50RWwpO1xuXG5cdFx0ZGVzdGluYXRpb25cblx0XHRcdC5zZXROYW1lKFwiRGVzdGluYXRpb25cIilcblx0XHRcdC5zZXREZXNjKFwiSWYgdGhlIHRvZ2dsZSBhYm92ZSBpcyBvbiwgc3BlY2lmeSBoZXJlIHRoZSBkZXN0aW5hdGlvbiBmb2xkZXIgZm9yIHRoZSBmaWxlIGNyZWF0ZWQuXCIpXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdFx0dGV4dFxuXHRcdFx0XHRcdC5vbkNoYW5nZSgodmFsdWUpID0+IHtcblx0XHRcdFx0XHRcdHRoaXMuZGVzdEZvbGRlciA9IHZhbHVlO1xuXHRcdFx0XHRcdH0pXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMuZGVzdEZvbGRlcilcblx0XHRcdFx0XHQuc2V0RGlzYWJsZWQodHJ1ZSlcblx0XHRcdClcblx0XHRcdC5zZXREaXNhYmxlZCh0cnVlKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuc2V0TmFtZShcIkZpbGUgbmFtZVwiKS5zZXREZXNjKFwiVGhlIG5hbWUgb2YgdGhlIGNyZWF0ZWQgZmlsZS5cIikuYWRkVGV4dCgodGV4dCkgPT5cblx0XHRcdHRleHRcblx0XHRcdFx0Lm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMuZmlsZU5hbWUgPSB2YWx1ZTtcblx0XHRcdFx0fSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMuZmlsZU5hbWUpXG5cdFx0KTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRlbnRFbCkuc2V0TmFtZShcIkZpbGUgb3JkZXJcIikuc2V0RGVzYyhcIlRoZSBvcmRlciBmb3IgdGhlIGZpbGVzIHRvIGJlIGluZGV4ZWQuXCIpLmFkZERyb3Bkb3duKChkcm9wKSA9PlxuXHRcdFx0ZHJvcFxuXHRcdFx0XHQuYWRkT3B0aW9uKFwiZGVmYXVsdFwiLCBcIkRlZmF1bHRcIilcblx0XHRcdFx0LmFkZE9wdGlvbihcIm10aW1lX25ld1wiLCBcIk1vZGlmaWNhdGlvbiB0aW1lIC0gTmV3ZXN0IHRvIG9sZGVzdFwiKVxuXHRcdFx0XHQuYWRkT3B0aW9uKFwibXRpbWVfb2xkXCIsIFwiTW9kaWZpY2F0aW9uIHRpbWUgLSBPbGRlc3QgdG8gbmV3ZXN0XCIpXG5cdFx0XHRcdC5hZGRPcHRpb24oXCJjdGltZV9uZXdcIiwgXCJDcmVhdGlvbiB0aW1lIC0gTmV3ZXN0IHRvIG9sZGVzdFwiKVxuXHRcdFx0XHQuYWRkT3B0aW9uKFwiY3RpbWVfb2xkXCIsIFwiQ3JlYXRpb24gdGltZSAtIE9sZGVzdCB0byBuZXdlc3RcIilcblx0XHRcdFx0LmFkZE9wdGlvbihcImFscGhhYmV0aWNhbFwiLCBcIkFscGhhYmV0aWNhbFwiKVxuXHRcdFx0XHQuYWRkT3B0aW9uKFwiYWxwaGFiZXRpY2FsX3JldlwiLCBcIkFscGhhYmV0aWNhbCAtIFJldmVyc2VcIilcblx0XHRcdFx0LnNldFZhbHVlKFwiZGVmYXVsdFwiKVxuXHRcdFx0XHQub25DaGFuZ2UoKGNob3NlbikgPT4ge1xuXHRcdFx0XHRcdHRoaXMuZmlsZU9yZGVyID0gY2hvc2VuO1xuXHRcdFx0XHR9KVxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpLnNldE5hbWUoXCJGaWxlIHR5cGVcIikuc2V0RGVzYyhcIkNob29zZSBiZXR3ZWVuIGluZGV4LCBnbG9zc2FyeSBvciBib3RoLlwiKS5hZGREcm9wZG93bigoZHJvcCkgPT5cblx0XHRcdGRyb3Bcblx0XHRcdFx0LmFkZE9wdGlvbihcImdsb3NzYXJ5XCIsIFwiR2xvc3NhcnlcIilcblx0XHRcdFx0LmFkZE9wdGlvbihcImluZGV4XCIsIFwiSW5kZXhcIilcblx0XHRcdFx0LmFkZE9wdGlvbihcImdsb3NzYXJ5aW5kZXhcIiwgXCJHbG9zc2FyeSB3aXRoIGluZGV4XCIpXG5cdFx0XHRcdC5vbkNoYW5nZSgoY2hvc2VuKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5vcHRpb24gPSBjaG9zZW47XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLm9wdGlvbiA/IHRoaXMub3B0aW9uIDogXCJpbmRleFwiKVxuXHRcdCk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250ZW50RWwpLmFkZEJ1dHRvbigoYnRuKSA9PlxuXHRcdFx0YnRuXG5cdFx0XHRcdC5zZXRCdXR0b25UZXh0KFwiU3VibWl0XCIpXG5cdFx0XHRcdC5zZXRDdGEoKVxuXHRcdFx0XHQub25DbGljaygoKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCF0aGlzLmZpbGVOYW1lKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZpbGVOYW1lID0gdGhpcy5vcHRpb247XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKCFmaWxlRXhpc3RzKHRoaXMuZmlsZU5hbWUpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0XHRcdFx0XHR0aGlzLm9uU3VibWl0KFxuXHRcdFx0XHRcdFx0XHR0aGlzLm9wdGlvbixcblx0XHRcdFx0XHRcdFx0dGhpcy5maWxlTmFtZSxcblx0XHRcdFx0XHRcdFx0dGhpcy5jaG9zZW5Gb2xkZXIsXG5cdFx0XHRcdFx0XHRcdHRoaXMuZmlsZU9yZGVyLFxuXHRcdFx0XHRcdFx0XHR0aGlzLmRlc3RGb2xkZXJcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KVxuXHRcdCk7XG5cdH1cblxuXHRvbkNsb3NlKCkge1xuXHRcdGxldCB7IGNvbnRlbnRFbCB9ID0gdGhpcztcblx0XHRjb250ZW50RWwuZW1wdHkoKTtcblx0fVxufVxuIiwgImltcG9ydCB7IE5vdGljZSwgVEZpbGUgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNhY2hlZERhdGFWZXJzaW9uVGFnIH0gZnJvbSBcInY4XCI7XG5cbmV4cG9ydCBlbnVtIGNhc2VzIHtcblx0aSA9IFwiaW5kZXhcIixcblx0ZyA9IFwiZ2xvc3NhcnlcIixcblx0Z2kgPSBcImdsb3NzYXJ5SW5kZXhcIixcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVudW0odmFsdWU6IHN0cmluZyk6IGNhc2VzIHtcblx0bGV0IHJlc3VsdDogY2FzZXMgPSBjYXNlcy5naTtcblxuXHRzd2l0Y2ggKHZhbHVlLnRvTG93ZXJDYXNlKCkpIHtcblx0XHRjYXNlIFwiZ2xvc3NhcnlcIjpcblx0XHRcdHJlc3VsdCA9IGNhc2VzLmc7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiaW5kZXhcIjpcblx0XHRcdHJlc3VsdCA9IGNhc2VzLmk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiZ2xvc3NhcnlpbmRleFwiOlxuXHRcdFx0cmVzdWx0ID0gY2FzZXMuZ2k7XG5cdFx0XHRicmVhaztcblx0XHRkZWZhdWx0OlxuXHRcdFx0YnJlYWs7XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmlsZUV4aXN0cyhmaWxlTmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG5cdGNvbnN0IG5vdGVzVEZpbGVzID0gZ2xvYmFsLmFwcC52YXVsdC5nZXRNYXJrZG93bkZpbGVzKCk7XG5cdGxldCByZXN1bHQ6IGJvb2xlYW47XG5cblx0LypsZXQgbm90ZXM6IHN0cmluZ1tdID0gW107XG5cblx0Zm9yIChsZXQgaSA9IDA7IGkgPCBub3Rlc1RGaWxlcy5sZW5ndGg7IGkrKykge1xuXHRcdC8vY29uc29sZS5sb2coaSArIG5vdGVzVEZpbGVbaV0ucGF0aCk7XG5cdFx0bm90ZXNbaV0gPSBub3Rlc1RGaWxlc1tpXS5wYXRoO1xuXHR9XG5cblx0aWYgKG5vdGVzLmNvbnRhaW5zKGZpbGVOYW1lICsgXCIubWRcIikpIHtcblx0XHRyZXN1bHQgPSB0cnVlO1xuXHR9IGVsc2Uge1xuXHRcdHJlc3VsdCA9IGZhbHNlO1xuXHR9Ki9cblxuXHRyZXN1bHQgPSBub3Rlc1RGaWxlcy5zb21lKChmaWxlKSA9PiBmaWxlLm5hbWUuY29udGFpbnMoZmlsZU5hbWUpKTtcblxuXHRpZiAocmVzdWx0KSB7XG5cdFx0bmV3IE5vdGljZShcIkFscmVhZHkgZXhpc3RpbmcgZmlsZVwiICsgZmlsZU5hbWUgKyBcIi5tZFwiKTtcblx0fVxuXG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjbGVhbkZpbGVzKG5vdGVzVEZpbGVzOiBURmlsZVtdKTogUHJvbWlzZTxURmlsZVtdPiB7XG5cdGNvbnN0IHsgdmF1bHQgfSA9IHRoaXMuYXBwO1xuXHRsZXQgY2xlYW5lZE5vdGVzOiBURmlsZVtdID0gW107XG5cblx0bm90ZXNURmlsZXMuZm9yRWFjaChhc3luYyAoZmlsZTogVEZpbGUpID0+IHtcblx0XHRjb25zdCBmaWxlQ29udGVudCA9IGF3YWl0IHZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG5cdFx0aWYgKFxuXHRcdFx0IWZpbGVDb250ZW50XG5cdFx0XHRcdC50b1N0cmluZygpXG5cdFx0XHRcdC5jb250YWlucyhcIi0tLVxcbnRhZ3M6IG9ic2lkaWFuLWF1dG8tZ2xvc3NhcnlcXG4tLS1cXG5cIilcblx0XHQpIHtcblx0XHRcdGNsZWFuZWROb3Rlcy5wdXNoKGZpbGUpO1xuXHRcdH1cblx0fSk7XG5cblx0cmV0dXJuIGNsZWFuZWROb3Rlcztcbn1cbiIsICJpbXBvcnQgeyBOb3RpY2UgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB7IGNhc2VzLCBjbGVhbkZpbGVzIH0gZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IGZpbGVFeGlzdHMgfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmlsZXMoXG5cdHJlcXVlc3RlZEZpbGU6IGNhc2VzLFxuXHRmaWxlSW5jbHVzaW9uOiBib29sZWFuLFxuXHRmaWxlTmFtZT86IHN0cmluZyxcblx0Y2hvc2VuRm9sZGVyPzogc3RyaW5nLFxuXHRmaWxlT3JkZXI/OiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nW10+IHtcblx0bGV0IG5vdGVzVEZpbGUgPSBnbG9iYWwuYXBwLnZhdWx0LmdldE1hcmtkb3duRmlsZXMoKTtcblx0bGV0IG5vdGVzOiBzdHJpbmdbXSA9IFtdO1xuXG5cdGlmICghZmlsZUluY2x1c2lvbikge1xuXHRcdG5vdGVzVEZpbGUgPSBhd2FpdCBjbGVhbkZpbGVzKG5vdGVzVEZpbGUpO1xuXHR9XG5cblx0c3dpdGNoIChmaWxlT3JkZXIpIHtcblx0XHRjYXNlIFwiY3RpbWVfbmV3XCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IGIuc3RhdC5jdGltZSAtIGEuc3RhdC5jdGltZSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiY3RpbWVfb2xkXCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IGEuc3RhdC5jdGltZSAtIGIuc3RhdC5jdGltZSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibXRpbWVfbmV3XCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IGIuc3RhdC5tdGltZSAtIGEuc3RhdC5tdGltZSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwibXRpbWVfb2xkXCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IGEuc3RhdC5tdGltZSAtIGIuc3RhdC5tdGltZSk7XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIFwiYWxwaGFiZXRpY2FsXCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0Y29uc3QgbmFtZUEgPSBhLm5hbWUudG9VcHBlckNhc2UoKTsgLy8gaWdub3JlIHVwcGVyIGFuZCBsb3dlcmNhc2Vcblx0XHRcdFx0Y29uc3QgbmFtZUIgPSBiLm5hbWUudG9VcHBlckNhc2UoKTsgLy8gaWdub3JlIHVwcGVyIGFuZCBsb3dlcmNhc2Vcblx0XHRcdFx0aWYgKG5hbWVBIDwgbmFtZUIpIHtcblx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVBID4gbmFtZUIpIHtcblx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG5hbWVzIG11c3QgYmUgZXF1YWxcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJhbHBoYWJldGljYWxfcmV2XCI6XG5cdFx0XHRub3Rlc1RGaWxlLnNvcnQoKGEsIGIpID0+IHtcblx0XHRcdFx0Y29uc3QgbmFtZUEgPSBhLm5hbWUudG9VcHBlckNhc2UoKTsgLy8gaWdub3JlIHVwcGVyIGFuZCBsb3dlcmNhc2Vcblx0XHRcdFx0Y29uc3QgbmFtZUIgPSBiLm5hbWUudG9VcHBlckNhc2UoKTsgLy8gaWdub3JlIHVwcGVyIGFuZCBsb3dlcmNhc2Vcblx0XHRcdFx0aWYgKG5hbWVBID4gbmFtZUIpIHtcblx0XHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5hbWVBIDwgbmFtZUIpIHtcblx0XHRcdFx0XHRyZXR1cm4gMTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIG5hbWVzIG11c3QgYmUgZXF1YWxcblx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHR9KTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgXCJkZWZhdWx0XCI6XG5cdFx0ZGVmYXVsdDpcblx0XHRcdGJyZWFrO1xuXHR9XG5cblxuXHRub3Rlc1RGaWxlLmZvckVhY2goKGZpbGUpID0+IHtcblx0XHRpZiAoY2hvc2VuRm9sZGVyICYmIGZpbGUucGF0aC5pbmNsdWRlcyhjaG9zZW5Gb2xkZXIpKSB7XG5cdFx0XHQvKmlmIChmaWxlLnBhdGgucmVwbGFjZShjaG9zZW5Gb2xkZXIgKyBcIi9cIiwgXCJcIikuaW5jbHVkZXMoXCIvXCIpKSB7XG5cdFx0XHRcdGZpbGUucGF0aC5yZXBsYWNlKGNob3NlbkZvbGRlciArIFwiL1wiLCBcIlwiKS5pbmRleE9mKFwiL1wiKTtcblx0XHRcdFx0Y29uc29sZS5sb2coZmlsZS5wYXRoLnJlcGxhY2UoY2hvc2VuRm9sZGVyICsgXCIvXCIsIFwiXCIpKTtcblx0XHRcdH0qL1xuXG5cdFx0XHRub3Rlcy5wdXNoKGZpbGUubmFtZSk7XG5cdFx0fSBlbHNlIGlmICghY2hvc2VuRm9sZGVyKSB7XG5cdFx0XHRub3Rlcy5wdXNoKGZpbGUubmFtZSk7XG5cdFx0fVxuXHR9KTtcblxuXHRjb25zdCBnbG9zc2FyeUFycmF5OiBzdHJpbmdbXSA9IFtdO1xuXHRjb25zdCBpbmRleEFycmF5OiBzdHJpbmdbXSA9IFtdO1xuXG5cdG5vdGVzLmZvckVhY2goKG5vdGUpID0+IHtcblx0XHQvLyBUbyBvYnRhaW4gdGhlIG5vdGUgbmFtZSBpbiBhICdsaW5rYWJsZScgZm9ybWF0IHdlIGhhdmUgdG8gcmVtb3ZlIHRoZSBleHRlbnNpb24gKGFrYSB0aGUgbGFzdCAzIGNoYXJhY3Rlcilcblx0XHRjb25zdCBub3RlTmFtZSA9IG5vdGUuc2xpY2UoMCwgLTMpO1xuXG5cdFx0Ly8gQXJyYXkgb2Ygc3RyaW5ncyB0aGF0IHdpbGwgc2hvdyB1cCBhcyBhbiBpbmRleC4gSWYgY2xpY2tlZCwgZWFjaCBlbnRyeSB0YWtlcyB0byB0aGUgcG9pbnQgaW4gdGhlIHNhbWUgZG9jdW1lbnQgd2hlcmUgdGhlIG5vdGUgaXMgZW1iZWRkZWRcblx0XHRpZiAocmVxdWVzdGVkRmlsZSA9PSBjYXNlcy5naSkge1xuXHRcdFx0aW5kZXhBcnJheS5wdXNoKFxuXHRcdFx0XHRcIi0gW1tcIiArIGZpbGVOYW1lICsgXCIjXCIgKyBub3RlTmFtZSArIFwifFwiICsgbm90ZU5hbWUgKyBcIl1dXFxuXCJcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGluZGV4QXJyYXkucHVzaChcIi0gW1tcIiArIG5vdGVOYW1lICsgXCJdXVxcblwiKTtcblx0XHR9XG5cblx0XHQvLyBBcnJheSBvZiBzdHJpbmdzIHRoYXQgd2lsbCBzaG93IHVwIGFzIGVtYmVkZGVkIG5vdGVzXG5cdFx0Ly8gIyMjIyB0byBtYWtlIHRoZW0gZmluZGFibGUgYXMgc2VjdGlvbnNcblx0XHRnbG9zc2FyeUFycmF5LnB1c2goXCIjIyMjICFbW1wiICsgbm90ZU5hbWUgKyBcIl1dXFxuXFxuKioqXFxuXFxuXCIpO1xuXHR9KTtcblxuXHQvLyBBcnJheXMgdG9TdHJpbmcgKyByZW1vdmUgYWxsICcsJ1xuXHRjb25zdCBpbmRleFRleHQgPSBcIiMjIEluZGV4XFxuXCIgKyBpbmRleEFycmF5LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCBcIlwiKTtcblx0Y29uc3QgZ2xvc3NhcnlUZXh0ID1cblx0XHRcIiMjIEdsb3NzYXJ5XFxuXCIgKyBnbG9zc2FyeUFycmF5LnRvU3RyaW5nKCkucmVwbGFjZSgvLC9nLCBcIlwiKTtcblxuXHRyZXR1cm4gW2luZGV4VGV4dCwgZ2xvc3NhcnlUZXh0XTtcbn1cblxuLy8gVGhpcyB0YWtlcyBpbiB3aGljaCB0eXBlIG9mIGZpbGUgd2Ugd2FudCB0byBjcmVhdGUgYW5kIGFuIG9wdGlvbmFsIGZpbGVOYW1lXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlRmlsZShcblx0cmVxdWVzdGVkRmlsZTogY2FzZXMsXG5cdGZpbGVJbmNsdXNpb246IGJvb2xlYW4sXG5cdGZpbGVOYW1lOiBzdHJpbmcsXG5cdGNob3NlbkZvbGRlcj86IHN0cmluZyxcblx0ZmlsZU9yZGVyPzogc3RyaW5nLFxuXHRkZXN0Rm9sZGVyPzogc3RyaW5nXG4pIHtcblx0bGV0IGNvbXBsZXRlRmlsZU5hbWUgPSBcIlwiO1xuXG5cdGlmIChkZXN0Rm9sZGVyKSB7XG5cdFx0aWYgKGZpbGVOYW1lKSB7XG5cdFx0XHRjb21wbGV0ZUZpbGVOYW1lID0gZGVzdEZvbGRlciArIFwiL1wiICsgZmlsZU5hbWU7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbXBsZXRlRmlsZU5hbWUgPSBkZXN0Rm9sZGVyICsgXCIvXCIgKyByZXF1ZXN0ZWRGaWxlO1xuXHRcdH1cblx0fSBlbHNlIGlmIChjaG9zZW5Gb2xkZXIpIHtcblx0XHRpZiAoZmlsZU5hbWUpIHtcblx0XHRcdGNvbXBsZXRlRmlsZU5hbWUgPSBjaG9zZW5Gb2xkZXIgKyBcIi9cIiArIGZpbGVOYW1lO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb21wbGV0ZUZpbGVOYW1lID0gY2hvc2VuRm9sZGVyICsgXCIvXCIgKyByZXF1ZXN0ZWRGaWxlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRjb21wbGV0ZUZpbGVOYW1lID0gcmVxdWVzdGVkRmlsZTtcblx0fVxuXG5cdGlmICghZmlsZUV4aXN0cyhjb21wbGV0ZUZpbGVOYW1lKSkge1xuXHRcdHRoaXMuYXBwLnZhdWx0LmNyZWF0ZShcblx0XHRcdGNvbXBsZXRlRmlsZU5hbWUgKyBcIi5tZFwiLFxuXHRcdFx0YXdhaXQgY3JlYXRlVGV4dChcblx0XHRcdFx0cmVxdWVzdGVkRmlsZSxcblx0XHRcdFx0ZmlsZUluY2x1c2lvbixcblx0XHRcdFx0ZmlsZU5hbWUsXG5cdFx0XHRcdGNob3NlbkZvbGRlcixcblx0XHRcdFx0ZmlsZU9yZGVyXG5cdFx0XHQpXG5cdFx0KTtcblx0XHRuZXcgTm90aWNlKGAke2NvbXBsZXRlRmlsZU5hbWV9IGZpbGUgY3JlYXRlZGApO1xuXHR9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIGNyZWF0ZVRleHQoXG5cdHJlcXVlc3RlZEZpbGU6IGNhc2VzLFxuXHRmaWxlSW5jbHVzaW9uOiBib29sZWFuLFxuXHRmaWxlTmFtZT86IHN0cmluZyxcblx0Y2hvc2VuRm9sZGVyPzogc3RyaW5nLFxuXHRmaWxlT3JkZXI/OiBzdHJpbmdcbik6IFByb21pc2U8c3RyaW5nPiB7XG5cdGxldCBhcnJheSA9IGF3YWl0IGdldEZpbGVzKFxuXHRcdHJlcXVlc3RlZEZpbGUsXG5cdFx0ZmlsZUluY2x1c2lvbixcblx0XHRmaWxlTmFtZSxcblx0XHRjaG9zZW5Gb2xkZXIsXG5cdFx0ZmlsZU9yZGVyXG5cdCk7XG5cdGxldCB0ZXh0ID0gXCItLS1cXG50YWdzOiBvYnNpZGlhbi1hdXRvLWdsb3NzYXJ5XFxuLS0tXFxuXCI7XG5cblx0c3dpdGNoIChyZXF1ZXN0ZWRGaWxlKSB7XG5cdFx0Y2FzZSBjYXNlcy5nOlxuXHRcdFx0dGV4dCArPSBhcnJheVsxXTtcblx0XHRcdGJyZWFrO1xuXHRcdGNhc2UgY2FzZXMuaTpcblx0XHRcdHRleHQgKz0gYXJyYXlbMF07XG5cdFx0XHRicmVhaztcblx0XHRjYXNlIGNhc2VzLmdpOlxuXHRcdFx0dGV4dCArPSBhcnJheVswXSArIFwiXFxuKioqXFxuXFxuXCIgKyBhcnJheVsxXTtcblx0XHRcdGJyZWFrO1xuXHRcdGRlZmF1bHQ6XG5cdFx0XHRicmVhaztcblx0fVxuXG5cdHJldHVybiB0ZXh0O1xufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQU9POzs7QUNQUCx1QkFBNEM7OztBQ0E1QyxzQkFBOEI7QUFTdkIsaUJBQWlCLE9BQXNCO0FBQzdDLE1B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
