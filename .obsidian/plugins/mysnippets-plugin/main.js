/*
THIS IS A GENERATED/BUNDLED FILE BY ROLLUP
if you want to view the source visit the plugins github repository
*/

'use strict';

var obsidian = require('obsidian');

/******************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function setAttributes(element, attributes) {
    for (let key in attributes) {
        element.setAttribute(key, attributes[key]);
    }
}

require("fs");
class CreateSnippetModal extends obsidian.Modal {
    constructor(app, plugin) {
        super(app);
        this.plugin = plugin;
        this.onOpen = () => this.display(true);
    }
    display(focus) {
        return __awaiter(this, void 0, void 0, function* () {
            const { contentEl } = this;
            const thisApp = this.app;
            const customCss = thisApp.customCss;
            contentEl.empty();
            contentEl.setAttribute("style", "margin-top: 0px");
            const title = document.createElement("h1");
            title.setText("Create a CSS Snippet");
            contentEl.appendChild(title);
            const fileTitleSetting = new obsidian.Setting(contentEl);
            const fileTitleValue = new obsidian.TextComponent(fileTitleSetting.controlEl);
            fileTitleSetting
                .setName("CSS Snippet Title")
                .setDesc("Write the title for this CSS snippet file.");
            const cssStylesSetting = new obsidian.Setting(contentEl);
            cssStylesSetting.settingEl.setAttribute("style", "display: grid; grid-template-columns: 1fr;");
            const cssStylesValue = new obsidian.TextAreaComponent(cssStylesSetting.controlEl);
            setAttributes(cssStylesValue.inputEl, {
                style: "margin-top: 12px; width: 100%;  height: 32vh;",
                class: "ms-css-editor",
            });
            cssStylesSetting
                .setName("CSS Snippet Styles")
                .setDesc("Add in styling for this CSS snippet file.");
            cssStylesValue.setValue(this.plugin.settings.stylingTemplate);
            const doAdd = () => __awaiter(this, void 0, void 0, function* () {
                let fileName = fileTitleValue.getValue();
                let fileContents = cssStylesValue.getValue();
                let snippetPath = customCss.getSnippetPath(fileName);
                if (fileName) {
                    if (!customCss.snippets.includes(fileName)) {
                        yield thisApp.vault.create(`${customCss.getSnippetsFolder()}/${fileName}.css`, fileContents);
                        console.log(`%c"${fileName}.css" has been created!`, "color: Violet");
                        if (this.plugin.settings.snippetEnabledStatus)
                            customCss.setCssEnabledStatus(fileName, true);
                        if (this.plugin.settings.openSnippetFile)
                            thisApp.openWithDefaultApp(snippetPath);
                        customCss.readCssFolders();
                        this.close();
                    }
                    else
                        new obsidian.Notice(`"${fileName}.css" already exists.`);
                }
                else
                    new obsidian.Notice("Missing name for file");
            });
            const saveButton = new obsidian.ButtonComponent(contentEl)
                .setButtonText("Create Snippet")
                .onClick(doAdd);
            saveButton.buttonEl.addClass("wg-button");
            fileTitleValue.inputEl.focus();
        });
    }
    onClose() {
        const { contentEl } = this;
        contentEl.empty();
    }
}

function snippetsMenu(app, plugin, settings) {
    const windowX = window.innerWidth;
    const windowY = window.innerHeight;
    const menuExists = document.querySelector(".menu.MySnippets-statusbar-menu");
    if (!menuExists) {
        const thisApp = app;
        const menu = new obsidian.Menu(app).addItem((item) => {
            item.setTitle("Snippets");
            const itemDom = item.dom;
            itemDom.setAttribute("style", "display: none;");
        });
        const menuDom = menu.dom;
        menuDom.addClass("MySnippets-statusbar-menu");
        if (settings.aestheticStyle) {
            menuDom.setAttribute("style", "background-color: transparent; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);");
        }
        const customCss = thisApp.customCss;
        const currentSnippets = customCss.snippets;
        const snippetsFolder = customCss.getSnippetsFolder();
        currentSnippets.forEach((snippet) => {
            const snippetPath = customCss.getSnippetPath(snippet);
            menu.addItem((snippetElement) => {
                snippetElement.setTitle(snippet);
                const snippetElementDom = snippetElement.dom;
                const toggleComponent = new obsidian.ToggleComponent(snippetElementDom);
                const buttonComponent = new obsidian.ButtonComponent(snippetElementDom);
                function changeSnippetStatus() {
                    const isEnabled = customCss.enabledSnippets.has(snippet);
                    customCss.setCssEnabledStatus(snippet, !isEnabled);
                }
                toggleComponent
                    .setValue(customCss.enabledSnippets.has(snippet))
                    .onChange(changeSnippetStatus);
                buttonComponent
                    .setIcon("ms-snippet")
                    .setClass("MS-OpenSnippet")
                    .setTooltip(`Open snippet`)
                    .onClick((e) => {
                    thisApp.openWithDefaultApp(snippetPath);
                });
                snippetElement.onClick((e) => {
                    e.preventDefault();
                    e.stopImmediatePropagation();
                });
            });
        });
        const buttonItem = menuDom.createDiv({ cls: "menu-item buttonitem" });
        const reloadButton = new obsidian.ButtonComponent(buttonItem);
        const folderButton = new obsidian.ButtonComponent(buttonItem);
        const addButton = new obsidian.ButtonComponent(buttonItem);
        reloadButton
            .setIcon("ms-reload")
            .setClass("MySnippetsButton")
            .setClass("MS-Reload")
            .setTooltip("Reload snippets")
            .onClick((e) => {
            customCss.readCssFolders();
            new obsidian.Notice("Snippets reloaded");
        });
        folderButton
            .setIcon("ms-folder")
            .setClass("MySnippetsButton")
            .setClass("MS-Folder")
            .setTooltip("Open snippets folder")
            .onClick((e) => {
            thisApp.openWithDefaultApp(snippetsFolder);
        });
        addButton
            .setIcon("ms-add")
            .setClass("MySnippetsButton")
            .setClass("MS-Folder")
            .setTooltip("Create new snippet")
            .onClick((e) => {
            new CreateSnippetModal(app, plugin).open();
        });
        menu.showAtPosition({
            x: windowX - 15,
            y: windowY - 37,
        });
    }
}

const icons = {
    "art-fill": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M20 14c-.092.064-2 2.083-2 3.5c0 1.494.949 2.448 2 2.5c.906.044 2-.891 2-2.5c0-1.5-1.908-3.436-2-3.5zM9.586 20c.378.378.88.586 1.414.586s1.036-.208 1.414-.586l7-7l-.707-.707L11 4.586L8.707 2.293L7.293 3.707L9.586 6L4 11.586c-.378.378-.586.88-.586 1.414s.208 1.036.586 1.414L9.586 20zM11 7.414L16.586 13H5.414L11 7.414z" fill="currentColor"/></svg>`,
    "art-brush": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2H7c-1.103 0-2 .897-2 2v3c0 1.103.897 2 2 2h11c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM7 7V4h11l.002 3H7z" fill="currentColor"/><path d="M13 15v-2c0-1.103-.897-2-2-2H4V5c-1.103 0-2 .897-2 2v4c0 1.103.897 2 2 2h7v2a1 1 0 0 0-1 1v5a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1z" fill="currentColor"/></svg>`,
    "ms-create-file": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><g class="icon-tabler" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 4l-2 14.5l-6 2l-6-2L4 4z"/><path d="M8.5 8h7L11 12h4l-.5 3.5l-2.5.75l-2.5-.75l-.1-.5"/></g></svg>`,
    "pantone-line": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5.764 8l-.295-.73a1 1 0 0 1 .553-1.302l9.272-3.746a1 1 0 0 1 1.301.552l5.62 13.908a1 1 0 0 1-.553 1.302L12.39 21.73a1 1 0 0 1-1.302-.553L11 20.96V21H7a1 1 0 0 1-1-1v-.27l-3.35-1.353a1 1 0 0 1-.552-1.302L5.764 8zM8 19h2.209L8 13.533V19zm-2-6.244l-1.673 4.141L6 17.608v-4.852zm1.698-5.309l4.87 12.054l7.418-2.997l-4.87-12.053l-7.418 2.996zm2.978 2.033a1 1 0 1 1-.749-1.855a1 1 0 0 1 .75 1.855z" fill="currentColor"/></svg>`,
    "ms-code": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><g fill="none"><path d="M20 21H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2zM4 7v12h16V7H4zm10.707 9.707l-1.413-1.413L15.586 13l-2.293-2.293l1.414-1.414L18.414 13l-3.706 3.706l-.001.001zm-5.414 0L5.586 13l3.707-3.707l1.414 1.414L8.414 13l2.292 2.293l-1.413 1.413v.001z" fill="currentColor"/></g></svg>`,
    "ms-reload": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path d="M6 4h15a1 1 0 0 1 1 1v7h-2V6H6v3L1 5l5-4v3zm12 16H3a1 1 0 0 1-1-1v-7h2v6h14v-3l5 4l-5 4v-3z" fill="white"/></svg>`,
    "ms-folder": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path fill="white" d="M20 5h-8.586L9.707 3.293A.997.997 0 0 0 9 3H4c-1.103 0-2 .897-2 2v14c0 1.103.897 2 2 2h16c1.103 0 2-.897 2-2V7c0-1.103-.897-2-2-2zM4 19V7h16l.002 12H4z"></path></svg>`,
    "ms-snippet": `<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><path d="M7.375 16.781l1.25-1.562L4.601 12l4.024-3.219l-1.25-1.562l-5 4a1 1 0 0 0 0 1.562l5 4zm9.25-9.562l-1.25 1.562L19.399 12l-4.024 3.219l1.25 1.562l5-4a1 1 0 0 0 0-1.562l-5-4zm-1.649-4.003l-4 18l-1.953-.434l4-18z" fill="white"/></svg>`,
    "ms-add": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4z" fill="white"/><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10s10-4.486 10-10S17.514 2 12 2zm0 18c-4.411 0-8-3.589-8-8s3.589-8 8-8s8 3.589 8 8s-3.589 8-8 8z" fill="white"/></svg>`,
    "ms-save": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5 21h14a2 2 0 0 0 2-2V8a1 1 0 0 0-.29-.71l-4-4A1 1 0 0 0 16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2zm10-2H9v-5h6zM13 7h-2V5h2zM5 5h2v4h8V5h.59L19 8.41V19h-2v-5a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v5H5z" fill="white"/></svg>`,
    "ms-delete": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="white" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M5 20a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8h2V6h-4V4a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v2H3v2h2zM9 4h6v2H9zM8 8h9v12H7V8z" fill="white"/><path d="M9 10h2v8H9zm4 0h2v8h-2z" fill="white"/></svg>`,
    "ms-css-file": `<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="0" stroke-linecap="round" stroke-linejoin="round"><path d="M 6 2 C 4.895 2 4 2.895 4 4 L 4 9 L 3 9 C 1.895 9 1 9.895 1 11 L 1 16 C 1 17.105 1.895 18 3 18 L 4 18 L 4 20 C 4 21.105 4.895 22 6 22 L 18 22 C 19.105 22 20 21.105 20 20 L 20 7.828125 C 20 7.298125 19.789062 6.7890625 19.414062 6.4140625 L 15.585938 2.5859375 C 15.210937 2.2109375 14.701875 2 14.171875 2 L 6 2 z M 6 4 L 14 4 L 14 7 C 14 7.552 14.448 8 15 8 L 18 8 L 18 20 L 6 20 L 6 18 L 15 18 C 16.105 18 17 17.105 17 16 L 17 11 C 17 9.895 16.105 9 15 9 L 6 9 L 6 4 z M 5 11 C 6.105 11 7 11.895 7 13 L 6 13 C 6 12.449 5.551 12 5 12 C 4.449 12 4 12.449 4 13 L 4 14 C 4 14.551 4.449 15 5 15 C 5.551 15 6 14.551 6 14 L 7 14 C 7 15.105 6.105 16 5 16 C 3.895 16 3 15.105 3 14 L 3 13 C 3 11.895 3.895 11 5 11 z M 9.6445312 11.001953 C 11.067531 11.042953 11.154297 12.284859 11.154297 12.505859 L 10.1875 12.505859 C 10.1875 12.402859 10.204906 11.806641 9.6289062 11.806641 C 9.4539062 11.806641 9.0598438 11.884187 9.0898438 12.367188 C 9.1188437 12.808188 9.7035469 13.018406 9.8105469 13.066406 C 10.034547 13.148406 11.141391 13.642391 11.150391 14.650391 C 11.152391 14.864391 11.097062 15.985 9.6640625 16 C 8.1050625 16.017 8 14.675438 8 14.398438 L 8.9746094 14.398438 C 8.9746094 14.545438 8.9870625 15.256172 9.6640625 15.201172 C 10.071063 15.167172 10.159828 14.87425 10.173828 14.65625 C 10.195828 14.29025 9.8465625 14.070578 9.4765625 13.892578 C 8.9565625 13.642578 8.1341406 13.335328 8.1191406 12.361328 C 8.1061406 11.484328 8.7505312 10.976953 9.6445312 11.001953 z M 13.490234 11.001953 C 14.913234 11.042953 15 12.284859 15 12.505859 L 14.03125 12.505859 C 14.03125 12.402859 14.048656 11.806641 13.472656 11.806641 C 13.297656 11.806641 12.905547 11.884187 12.935547 12.367188 C 12.964547 12.808188 13.547297 13.018406 13.654297 13.066406 C 13.878297 13.148406 14.987094 13.642391 14.996094 14.650391 C 14.998094 14.864391 14.942766 15.985 13.509766 16 C 11.950766 16.017 11.845703 14.675437 11.845703 14.398438 L 12.820312 14.398438 C 12.820312 14.545438 12.832766 15.256172 13.509766 15.201172 C 13.916766 15.167172 14.005531 14.87425 14.019531 14.65625 C 14.041531 14.29025 13.692266 14.070578 13.322266 13.892578 C 12.802266 13.642578 11.979844 13.335328 11.964844 12.361328 C 11.951844 11.484328 12.596234 10.976953 13.490234 11.001953 z" fill="currentColor"/></svg>`,
};
function addIcons() {
    Object.keys(icons).forEach((key) => {
        obsidian.addIcon(key, icons[key]);
    });
}

class MySnippetsSettingTab extends obsidian.PluginSettingTab {
    constructor(app, plugin) {
        super(app, plugin);
        this.plugin = plugin;
    }
    display() {
        const { containerEl } = this;
        containerEl.empty();
        containerEl.createEl("h1", { text: "MySnippets" });
        containerEl.createEl("p", { text: "Created by " }).createEl("a", {
            text: "Chetachi 👩🏽‍💻",
            href: "https://github.com/chetachiezikeuzor",
        });
        containerEl.createEl("h2", { text: "Plugin Settings" });
        new obsidian.Setting(containerEl)
            .setName("Glass menu effect")
            .setDesc("Choose to change the background from the secondary background color of your theme to a glass background.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.aestheticStyle)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.aestheticStyle = value;
                this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName("Auto open new snippet")
            .setDesc("Choose whether or not to open CSS snippet files immeditaley after creating them. It will open in your default app.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.openSnippetFile)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.openSnippetFile = value;
                this.plugin.saveSettings();
            }));
        });
        new obsidian.Setting(containerEl)
            .setName("Set new snippet status")
            .setDesc("Choose whether or not to have newly created CSS snippet files toggled on automatically upon creation.")
            .addToggle((toggle) => {
            toggle
                .setValue(this.plugin.settings.snippetEnabledStatus)
                .onChange((value) => __awaiter(this, void 0, void 0, function* () {
                this.plugin.settings.snippetEnabledStatus = value;
                this.plugin.saveSettings();
            }));
        });
        const stylingTemplateSetting = new obsidian.Setting(containerEl);
        stylingTemplateSetting.settingEl.setAttribute("style", "display: grid; grid-template-columns: 1fr;");
        stylingTemplateSetting
            .setName("CSS snippet template")
            .setDesc("Set default CSS styling as a template for new CSS files you choose to create.");
        const stylingTemplateContent = new obsidian.TextAreaComponent(stylingTemplateSetting.controlEl);
        setAttributes(stylingTemplateContent.inputEl, {
            style: "margin-top: 12px; width: 100%;  height: 32vh;",
            class: "ms-css-editor",
        });
        stylingTemplateContent
            .setValue(this.plugin.settings.stylingTemplate)
            .onChange((value) => __awaiter(this, void 0, void 0, function* () {
            this.plugin.settings.stylingTemplate = value;
            this.plugin.saveSettings();
        }));
        const msDonationDiv = containerEl.createEl("div", {
            cls: "msDonationSection",
        });
        const donateText = createEl("p");
        donateText.appendText("If you like this Plugin and are considering donating to support continued development, use the buttons below!");
        msDonationDiv.appendChild(donateText);
        msDonationDiv.appendChild(paypalButton("https://paypal.me/chelseaezikeuzor"));
        msDonationDiv.appendChild(buyMeACoffeeButton("https://www.buymeacoffee.com/chetachi"));
        msDonationDiv.appendChild(kofiButton("https://ko-fi.com/chetachi"));
    }
}
const buyMeACoffeeButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<img src="https://img.buymeacoffee.com/button-api/?text=Buy me a coffee&emoji=&slug=chetachi&button_colour=e3e7ef&font_colour=262626&font_family=Poppins&outline_colour=262626&coffee_colour=ff0000" height="42px"> `;
    return a;
};
const paypalButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="150" height="40">
  <path fill="#253B80" d="M46.211 6.749h-6.839a.95.95 0 0 0-.939.802l-2.766 17.537a.57.57 0 0 0 .564.658h3.265a.95.95 0 0 0 .939-.803l.746-4.73a.95.95 0 0 1 .938-.803h2.165c4.505 0 7.105-2.18 7.784-6.5.306-1.89.013-3.375-.872-4.415-.972-1.142-2.696-1.746-4.985-1.746zM47 13.154c-.374 2.454-2.249 2.454-4.062 2.454h-1.032l.724-4.583a.57.57 0 0 1 .563-.481h.473c1.235 0 2.4 0 3.002.704.359.42.469 1.044.332 1.906zM66.654 13.075h-3.275a.57.57 0 0 0-.563.481l-.145.916-.229-.332c-.709-1.029-2.29-1.373-3.868-1.373-3.619 0-6.71 2.741-7.312 6.586-.313 1.918.132 3.752 1.22 5.031.998 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .562.66h2.95a.95.95 0 0 0 .939-.803l1.77-11.209a.568.568 0 0 0-.561-.658zm-4.565 6.374c-.316 1.871-1.801 3.127-3.695 3.127-.951 0-1.711-.305-2.199-.883-.484-.574-.668-1.391-.514-2.301.295-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.499.589.697 1.411.554 2.317zM84.096 13.075h-3.291a.954.954 0 0 0-.787.417l-4.539 6.686-1.924-6.425a.953.953 0 0 0-.912-.678h-3.234a.57.57 0 0 0-.541.754l3.625 10.638-3.408 4.811a.57.57 0 0 0 .465.9h3.287a.949.949 0 0 0 .781-.408l10.946-15.8a.57.57 0 0 0-.468-.895z"></path>
  <path fill="#179BD7" d="M94.992 6.749h-6.84a.95.95 0 0 0-.938.802l-2.766 17.537a.569.569 0 0 0 .562.658h3.51a.665.665 0 0 0 .656-.562l.785-4.971a.95.95 0 0 1 .938-.803h2.164c4.506 0 7.105-2.18 7.785-6.5.307-1.89.012-3.375-.873-4.415-.971-1.142-2.694-1.746-4.983-1.746zm.789 6.405c-.373 2.454-2.248 2.454-4.062 2.454h-1.031l.725-4.583a.568.568 0 0 1 .562-.481h.473c1.234 0 2.4 0 3.002.704.359.42.468 1.044.331 1.906zM115.434 13.075h-3.273a.567.567 0 0 0-.562.481l-.145.916-.23-.332c-.709-1.029-2.289-1.373-3.867-1.373-3.619 0-6.709 2.741-7.311 6.586-.312 1.918.131 3.752 1.219 5.031 1 1.176 2.426 1.666 4.125 1.666 2.916 0 4.533-1.875 4.533-1.875l-.146.91a.57.57 0 0 0 .564.66h2.949a.95.95 0 0 0 .938-.803l1.771-11.209a.571.571 0 0 0-.565-.658zm-4.565 6.374c-.314 1.871-1.801 3.127-3.695 3.127-.949 0-1.711-.305-2.199-.883-.484-.574-.666-1.391-.514-2.301.297-1.855 1.805-3.152 3.67-3.152.93 0 1.686.309 2.184.892.501.589.699 1.411.554 2.317zM119.295 7.23l-2.807 17.858a.569.569 0 0 0 .562.658h2.822c.469 0 .867-.34.939-.803l2.768-17.536a.57.57 0 0 0-.562-.659h-3.16a.571.571 0 0 0-.562.482z"></path>
  <path fill="#253B80" d="M7.266 29.154l.523-3.322-1.165-.027H1.061L4.927 1.292a.316.316 0 0 1 .314-.268h9.38c3.114 0 5.263.648 6.385 1.927.526.6.861 1.227 1.023 1.917.17.724.173 1.589.007 2.644l-.012.077v.676l.526.298a3.69 3.69 0 0 1 1.065.812c.45.513.741 1.165.864 1.938.127.795.085 1.741-.123 2.812-.24 1.232-.628 2.305-1.152 3.183a6.547 6.547 0 0 1-1.825 2c-.696.494-1.523.869-2.458 1.109-.906.236-1.939.355-3.072.355h-.73c-.522 0-1.029.188-1.427.525a2.21 2.21 0 0 0-.744 1.328l-.055.299-.924 5.855-.042.215c-.011.068-.03.102-.058.125a.155.155 0 0 1-.096.035H7.266z"></path>
  <path fill="#179BD7" d="M23.048 7.667c-.028.179-.06.362-.096.55-1.237 6.351-5.469 8.545-10.874 8.545H9.326c-.661 0-1.218.48-1.321 1.132L6.596 26.83l-.399 2.533a.704.704 0 0 0 .695.814h4.881c.578 0 1.069-.42 1.16-.99l.048-.248.919-5.832.059-.32c.09-.572.582-.992 1.16-.992h.73c4.729 0 8.431-1.92 9.513-7.476.452-2.321.218-4.259-.978-5.622a4.667 4.667 0 0 0-1.336-1.03z"></path>
  <path fill="#222D65" d="M21.754 7.151a9.757 9.757 0 0 0-1.203-.267 15.284 15.284 0 0 0-2.426-.177h-7.352a1.172 1.172 0 0 0-1.159.992L8.05 17.605l-.045.289a1.336 1.336 0 0 1 1.321-1.132h2.752c5.405 0 9.637-2.195 10.874-8.545.037-.188.068-.371.096-.55a6.594 6.594 0 0 0-1.017-.429 9.045 9.045 0 0 0-.277-.087z"></path>
  <path fill="#253B80" d="M9.614 7.699a1.169 1.169 0 0 1 1.159-.991h7.352c.871 0 1.684.057 2.426.177a9.757 9.757 0 0 1 1.481.353c.365.121.704.264 1.017.429.368-2.347-.003-3.945-1.272-5.392C20.378.682 17.853 0 14.622 0h-9.38c-.66 0-1.223.48-1.325 1.133L.01 25.898a.806.806 0 0 0 .795.932h5.791l1.454-9.225 1.564-9.906z"></path>
  </svg>`;
    return a;
};
const kofiButton = (link) => {
    const a = createEl("a");
    a.setAttribute("href", link);
    a.addClass("buymeacoffee-chetachi-img");
    a.innerHTML = `<img src="https://raw.githubusercontent.com/chetachiezikeuzor/MySnippets-Plugin/master/assets/kofi_color.svg" height="50">`;
    return a;
};

const DEFAULT_SETTINGS = {
    aestheticStyle: false,
    snippetViewPosition: "left",
    openSnippetFile: true,
    stylingTemplate: "",
    snippetEnabledStatus: false,
};

class MySnippetsPlugin extends obsidian.Plugin {
    onload() {
        return __awaiter(this, void 0, void 0, function* () {
            console.log("MySnippets v" + this.manifest.version + " loaded");
            addIcons();
            yield this.loadSettings();
            this.addSettingTab(new MySnippetsSettingTab(this.app, this));
            this.app.workspace.onLayoutReady(() => {
                setTimeout(() => {
                    this.setupSnippetsStatusBarIcon();
                });
            });
        });
    }
    setupSnippetsStatusBarIcon() {
        this.statusBarIcon = this.addStatusBarItem();
        this.statusBarIcon.addClass("MiniSettings-statusbar-button");
        this.statusBarIcon.addClass("mod-clickable");
        setAttributes(this.statusBarIcon, {
            "aria-label": "Configure Snippets",
            "aria-label-position": "top",
        });
        obsidian.setIcon(this.statusBarIcon, "pantone-line");
        this.statusBarIcon.addEventListener("click", () => {
            snippetsMenu(this.app, this, this.settings);
        });
        this.addCommand({
            id: `open-snippets-menu`,
            name: `Open snippets in status bar`,
            icon: `pantone-line`,
            callback: () => __awaiter(this, void 0, void 0, function* () {
                snippetsMenu(this.app, this, this.settings);
            }),
        });
        this.addCommand({
            id: `open-snippets-create`,
            name: `Create new CSS snippet`,
            icon: `ms-css-file`,
            callback: () => __awaiter(this, void 0, void 0, function* () {
                new CreateSnippetModal(this.app, this).open();
            }),
        });
    }
    onunload() {
        console.log("MySnippets unloaded");
    }
    loadSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            this.settings = Object.assign({}, DEFAULT_SETTINGS, yield this.loadData());
        });
    }
    saveSettings() {
        return __awaiter(this, void 0, void 0, function* () {
            yield this.saveData(this.settings);
        });
    }
}

module.exports = MySnippetsPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsibm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsInNyYy91dGlsL3NldEF0dHJpYnV0ZXMudHMiLCJzcmMvbW9kYWwvY3JlYXRlU25pcHBldE1vZGFsLnRzIiwic3JjL3VpL3NuaXBwZXRzTWVudS50cyIsInNyYy9pY29ucy9jdXN0b21JY29ucy50cyIsInNyYy9zZXR0aW5ncy9zZXR0aW5nc1RhYi50cyIsInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGEudHMiLCJzcmMvcGx1Z2luL21haW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImV4cG9ydCBmdW5jdGlvbiBzZXRBdHRyaWJ1dGVzKGVsZW1lbnQ6IGFueSwgYXR0cmlidXRlczogYW55KSB7XG4gIGZvciAobGV0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG4gICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9XG59XG4iLCJpbXBvcnQge1xuICBBcHAsXG4gIE1vZGFsLFxuICBTZXR0aW5nLFxuICBUZXh0Q29tcG9uZW50LFxuICBCdXR0b25Db21wb25lbnQsXG4gIFRleHRBcmVhQ29tcG9uZW50LFxuICBOb3RpY2UsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHR5cGUgTXlTbmlwcGV0c1BsdWdpbiBmcm9tIFwiLi4vcGx1Z2luL21haW5cIjtcbmltcG9ydCB7IHNldEF0dHJpYnV0ZXMgfSBmcm9tIFwic3JjL3V0aWwvc2V0QXR0cmlidXRlc1wiO1xubGV0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDcmVhdGVTbmlwcGV0TW9kYWwgZXh0ZW5kcyBNb2RhbCB7XG4gIHBhdGg6IHN0cmluZztcbiAgcGx1Z2luOiBNeVNuaXBwZXRzUGx1Z2luO1xuICBteVNuaXBwZXRzRWw6IEhUTUxEaXZFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15U25pcHBldHNQbHVnaW4pIHtcbiAgICBzdXBlcihhcHApO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgIHRoaXMub25PcGVuID0gKCkgPT4gdGhpcy5kaXNwbGF5KHRydWUpO1xuICB9XG5cbiAgcHJpdmF0ZSBhc3luYyBkaXNwbGF5KGZvY3VzPzogYm9vbGVhbikge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnN0IHRoaXNBcHAgPSB0aGlzLmFwcCBhcyBhbnk7XG4gICAgY29uc3QgY3VzdG9tQ3NzID0gdGhpc0FwcC5jdXN0b21Dc3M7XG5cbiAgICBjb250ZW50RWwuZW1wdHkoKTtcbiAgICBjb250ZW50RWwuc2V0QXR0cmlidXRlKFwic3R5bGVcIiwgXCJtYXJnaW4tdG9wOiAwcHhcIik7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcbiAgICB0aXRsZS5zZXRUZXh0KFwiQ3JlYXRlIGEgQ1NTIFNuaXBwZXRcIik7XG4gICAgY29udGVudEVsLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuICAgIGNvbnN0IGZpbGVUaXRsZVNldHRpbmcgPSBuZXcgU2V0dGluZyhjb250ZW50RWwpO1xuICAgIGNvbnN0IGZpbGVUaXRsZVZhbHVlID0gbmV3IFRleHRDb21wb25lbnQoZmlsZVRpdGxlU2V0dGluZy5jb250cm9sRWwpO1xuICAgIGZpbGVUaXRsZVNldHRpbmdcbiAgICAgIC5zZXROYW1lKFwiQ1NTIFNuaXBwZXQgVGl0bGVcIilcbiAgICAgIC5zZXREZXNjKFwiV3JpdGUgdGhlIHRpdGxlIGZvciB0aGlzIENTUyBzbmlwcGV0IGZpbGUuXCIpO1xuXG4gICAgY29uc3QgY3NzU3R5bGVzU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRlbnRFbCk7XG4gICAgY3NzU3R5bGVzU2V0dGluZy5zZXR0aW5nRWwuc2V0QXR0cmlidXRlKFxuICAgICAgXCJzdHlsZVwiLFxuICAgICAgXCJkaXNwbGF5OiBncmlkOyBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmcjtcIlxuICAgICk7XG4gICAgY29uc3QgY3NzU3R5bGVzVmFsdWUgPSBuZXcgVGV4dEFyZWFDb21wb25lbnQoY3NzU3R5bGVzU2V0dGluZy5jb250cm9sRWwpO1xuICAgIHNldEF0dHJpYnV0ZXMoY3NzU3R5bGVzVmFsdWUuaW5wdXRFbCwge1xuICAgICAgc3R5bGU6IFwibWFyZ2luLXRvcDogMTJweDsgd2lkdGg6IDEwMCU7ICBoZWlnaHQ6IDMydmg7XCIsXG4gICAgICBjbGFzczogXCJtcy1jc3MtZWRpdG9yXCIsXG4gICAgfSk7XG4gICAgY3NzU3R5bGVzU2V0dGluZ1xuICAgICAgLnNldE5hbWUoXCJDU1MgU25pcHBldCBTdHlsZXNcIilcbiAgICAgIC5zZXREZXNjKFwiQWRkIGluIHN0eWxpbmcgZm9yIHRoaXMgQ1NTIHNuaXBwZXQgZmlsZS5cIik7XG4gICAgY3NzU3R5bGVzVmFsdWUuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3R5bGluZ1RlbXBsYXRlKTtcblxuICAgIGNvbnN0IGRvQWRkID0gYXN5bmMgKCkgPT4ge1xuICAgICAgbGV0IGZpbGVOYW1lID0gZmlsZVRpdGxlVmFsdWUuZ2V0VmFsdWUoKTtcbiAgICAgIGxldCBmaWxlQ29udGVudHMgPSBjc3NTdHlsZXNWYWx1ZS5nZXRWYWx1ZSgpO1xuICAgICAgbGV0IHNuaXBwZXRQYXRoID0gY3VzdG9tQ3NzLmdldFNuaXBwZXRQYXRoKGZpbGVOYW1lKTtcbiAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICBpZiAoIWN1c3RvbUNzcy5zbmlwcGV0cy5pbmNsdWRlcyhmaWxlTmFtZSkpIHtcbiAgICAgICAgICBhd2FpdCB0aGlzQXBwLnZhdWx0LmNyZWF0ZShcbiAgICAgICAgICAgIGAke2N1c3RvbUNzcy5nZXRTbmlwcGV0c0ZvbGRlcigpfS8ke2ZpbGVOYW1lfS5jc3NgLFxuICAgICAgICAgICAgZmlsZUNvbnRlbnRzXG4gICAgICAgICAgKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhgJWNcIiR7ZmlsZU5hbWV9LmNzc1wiIGhhcyBiZWVuIGNyZWF0ZWQhYCwgXCJjb2xvcjogVmlvbGV0XCIpO1xuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zbmlwcGV0RW5hYmxlZFN0YXR1cylcbiAgICAgICAgICAgIGN1c3RvbUNzcy5zZXRDc3NFbmFibGVkU3RhdHVzKGZpbGVOYW1lLCB0cnVlKTtcblxuICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuU25pcHBldEZpbGUpXG4gICAgICAgICAgICB0aGlzQXBwLm9wZW5XaXRoRGVmYXVsdEFwcChzbmlwcGV0UGF0aCk7XG5cbiAgICAgICAgICBjdXN0b21Dc3MucmVhZENzc0ZvbGRlcnMoKTtcbiAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSBuZXcgTm90aWNlKGBcIiR7ZmlsZU5hbWV9LmNzc1wiIGFscmVhZHkgZXhpc3RzLmApO1xuICAgICAgfSBlbHNlIG5ldyBOb3RpY2UoXCJNaXNzaW5nIG5hbWUgZm9yIGZpbGVcIik7XG4gICAgfTtcbiAgICBjb25zdCBzYXZlQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChjb250ZW50RWwpXG4gICAgICAuc2V0QnV0dG9uVGV4dChcIkNyZWF0ZSBTbmlwcGV0XCIpXG4gICAgICAub25DbGljayhkb0FkZCk7XG4gICAgc2F2ZUJ1dHRvbi5idXR0b25FbC5hZGRDbGFzcyhcIndnLWJ1dHRvblwiKTtcbiAgICBmaWxlVGl0bGVWYWx1ZS5pbnB1dEVsLmZvY3VzKCk7XG4gIH1cblxuICBvbkNsb3NlKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGVudEVsIH0gPSB0aGlzO1xuICAgIGNvbnRlbnRFbC5lbXB0eSgpO1xuICB9XG59XG4iLCJpbXBvcnQgdHlwZSBNeVNuaXBwZXRzUGx1Z2luIGZyb20gXCJzcmMvcGx1Z2luL21haW5cIjtcbmltcG9ydCB7XG4gIEFwcCxcbiAgTWVudSxcbiAgTWVudUl0ZW0sXG4gIFRvZ2dsZUNvbXBvbmVudCxcbiAgQnV0dG9uQ29tcG9uZW50LFxuICBOb3RpY2UsXG59IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgTXlTbmlwcGV0c1NldHRpbmdzIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc0RhdGFcIjtcbmltcG9ydCBDcmVhdGVTbmlwcGV0TW9kYWwgZnJvbSBcInNyYy9tb2RhbC9jcmVhdGVTbmlwcGV0TW9kYWxcIjtcblxuZGVjbGFyZSBtb2R1bGUgXCJvYnNpZGlhblwiIHtcbiAgaW50ZXJmYWNlIE1lbnUge1xuICAgIGl0ZW1zOiBNZW51SXRlbVtdO1xuICB9XG5cbiAgaW50ZXJmYWNlIE1lbnVJdGVtIHtcbiAgICBkb206IEhUTUxEaXZFbGVtZW50O1xuICAgIHRpdGxlRWw6IEhUTUxEaXZFbGVtZW50O1xuICAgIGhhbmRsZUV2ZW50KGV2ZW50OiBFdmVudCk6IHZvaWQ7XG4gICAgZGlzYWJsZWQ6IGJvb2xlYW47XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc25pcHBldHNNZW51KFxuICBhcHA6IEFwcCxcbiAgcGx1Z2luOiBNeVNuaXBwZXRzUGx1Z2luLFxuICBzZXR0aW5nczogTXlTbmlwcGV0c1NldHRpbmdzXG4pIHtcbiAgY29uc3Qgd2luZG93WCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICBjb25zdCB3aW5kb3dZID0gd2luZG93LmlubmVySGVpZ2h0O1xuICBjb25zdCBtZW51RXhpc3RzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tZW51Lk15U25pcHBldHMtc3RhdHVzYmFyLW1lbnVcIik7XG5cbiAgaWYgKCFtZW51RXhpc3RzKSB7XG4gICAgY29uc3QgdGhpc0FwcCA9IGFwcCBhcyBhbnk7XG4gICAgY29uc3QgbWVudSA9IG5ldyBNZW51KGFwcCkuYWRkSXRlbSgoaXRlbSkgPT4ge1xuICAgICAgaXRlbS5zZXRUaXRsZShcIlNuaXBwZXRzXCIpO1xuXG4gICAgICBjb25zdCBpdGVtRG9tID0gKGl0ZW0gYXMgYW55KS5kb20gYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpdGVtRG9tLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsIFwiZGlzcGxheTogbm9uZTtcIik7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZW51RG9tID0gKG1lbnUgYXMgYW55KS5kb20gYXMgSFRNTEVsZW1lbnQ7XG4gICAgbWVudURvbS5hZGRDbGFzcyhcIk15U25pcHBldHMtc3RhdHVzYmFyLW1lbnVcIik7XG5cbiAgICBpZiAoc2V0dGluZ3MuYWVzdGhldGljU3R5bGUpIHtcbiAgICAgIG1lbnVEb20uc2V0QXR0cmlidXRlKFxuICAgICAgICBcInN0eWxlXCIsXG4gICAgICAgIFwiYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7IGJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpOyAtd2Via2l0LWJhY2tkcm9wLWZpbHRlcjogYmx1cig4cHgpO1wiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjdXN0b21Dc3MgPSB0aGlzQXBwLmN1c3RvbUNzcztcbiAgICBjb25zdCBjdXJyZW50U25pcHBldHMgPSBjdXN0b21Dc3Muc25pcHBldHM7XG4gICAgY29uc3Qgc25pcHBldHNGb2xkZXIgPSBjdXN0b21Dc3MuZ2V0U25pcHBldHNGb2xkZXIoKTtcblxuICAgIGN1cnJlbnRTbmlwcGV0cy5mb3JFYWNoKChzbmlwcGV0OiBzdHJpbmcpID0+IHtcbiAgICAgIGNvbnN0IHNuaXBwZXRQYXRoID0gY3VzdG9tQ3NzLmdldFNuaXBwZXRQYXRoKHNuaXBwZXQpO1xuXG4gICAgICBtZW51LmFkZEl0ZW0oKHNuaXBwZXRFbGVtZW50KSA9PiB7XG4gICAgICAgIHNuaXBwZXRFbGVtZW50LnNldFRpdGxlKHNuaXBwZXQpO1xuXG4gICAgICAgIGNvbnN0IHNuaXBwZXRFbGVtZW50RG9tID0gKHNuaXBwZXRFbGVtZW50IGFzIGFueSkuZG9tIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb25zdCB0b2dnbGVDb21wb25lbnQgPSBuZXcgVG9nZ2xlQ29tcG9uZW50KHNuaXBwZXRFbGVtZW50RG9tKTtcbiAgICAgICAgY29uc3QgYnV0dG9uQ29tcG9uZW50ID0gbmV3IEJ1dHRvbkNvbXBvbmVudChzbmlwcGV0RWxlbWVudERvbSk7XG5cbiAgICAgICAgZnVuY3Rpb24gY2hhbmdlU25pcHBldFN0YXR1cygpIHtcbiAgICAgICAgICBjb25zdCBpc0VuYWJsZWQgPSBjdXN0b21Dc3MuZW5hYmxlZFNuaXBwZXRzLmhhcyhzbmlwcGV0KTtcbiAgICAgICAgICBjdXN0b21Dc3Muc2V0Q3NzRW5hYmxlZFN0YXR1cyhzbmlwcGV0LCAhaXNFbmFibGVkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRvZ2dsZUNvbXBvbmVudFxuICAgICAgICAgIC5zZXRWYWx1ZShjdXN0b21Dc3MuZW5hYmxlZFNuaXBwZXRzLmhhcyhzbmlwcGV0KSlcbiAgICAgICAgICAub25DaGFuZ2UoY2hhbmdlU25pcHBldFN0YXR1cyk7XG5cbiAgICAgICAgYnV0dG9uQ29tcG9uZW50XG4gICAgICAgICAgLnNldEljb24oXCJtcy1zbmlwcGV0XCIpXG4gICAgICAgICAgLnNldENsYXNzKFwiTVMtT3BlblNuaXBwZXRcIilcbiAgICAgICAgICAuc2V0VG9vbHRpcChgT3BlbiBzbmlwcGV0YClcblxuICAgICAgICAgIC5vbkNsaWNrKChlOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXNBcHAub3BlbldpdGhEZWZhdWx0QXBwKHNuaXBwZXRQYXRoKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICBzbmlwcGV0RWxlbWVudC5vbkNsaWNrKChlOiBhbnkpID0+IHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGJ1dHRvbkl0ZW0gPSBtZW51RG9tLmNyZWF0ZURpdih7IGNsczogXCJtZW51LWl0ZW0gYnV0dG9uaXRlbVwiIH0pO1xuICAgIGNvbnN0IHJlbG9hZEJ1dHRvbiA9IG5ldyBCdXR0b25Db21wb25lbnQoYnV0dG9uSXRlbSk7XG4gICAgY29uc3QgZm9sZGVyQnV0dG9uID0gbmV3IEJ1dHRvbkNvbXBvbmVudChidXR0b25JdGVtKTtcbiAgICBjb25zdCBhZGRCdXR0b24gPSBuZXcgQnV0dG9uQ29tcG9uZW50KGJ1dHRvbkl0ZW0pO1xuICAgIHJlbG9hZEJ1dHRvblxuICAgICAgLnNldEljb24oXCJtcy1yZWxvYWRcIilcbiAgICAgIC5zZXRDbGFzcyhcIk15U25pcHBldHNCdXR0b25cIilcbiAgICAgIC5zZXRDbGFzcyhcIk1TLVJlbG9hZFwiKVxuICAgICAgLnNldFRvb2x0aXAoXCJSZWxvYWQgc25pcHBldHNcIilcbiAgICAgIC5vbkNsaWNrKChlOiBhbnkpID0+IHtcbiAgICAgICAgY3VzdG9tQ3NzLnJlYWRDc3NGb2xkZXJzKCk7XG4gICAgICAgIG5ldyBOb3RpY2UoXCJTbmlwcGV0cyByZWxvYWRlZFwiKTtcbiAgICAgIH0pO1xuICAgIGZvbGRlckJ1dHRvblxuICAgICAgLnNldEljb24oXCJtcy1mb2xkZXJcIilcbiAgICAgIC5zZXRDbGFzcyhcIk15U25pcHBldHNCdXR0b25cIilcbiAgICAgIC5zZXRDbGFzcyhcIk1TLUZvbGRlclwiKVxuICAgICAgLnNldFRvb2x0aXAoXCJPcGVuIHNuaXBwZXRzIGZvbGRlclwiKVxuICAgICAgLm9uQ2xpY2soKGU6IGFueSkgPT4ge1xuICAgICAgICB0aGlzQXBwLm9wZW5XaXRoRGVmYXVsdEFwcChzbmlwcGV0c0ZvbGRlcik7XG4gICAgICB9KTtcbiAgICBhZGRCdXR0b25cbiAgICAgIC5zZXRJY29uKFwibXMtYWRkXCIpXG4gICAgICAuc2V0Q2xhc3MoXCJNeVNuaXBwZXRzQnV0dG9uXCIpXG4gICAgICAuc2V0Q2xhc3MoXCJNUy1Gb2xkZXJcIilcbiAgICAgIC5zZXRUb29sdGlwKFwiQ3JlYXRlIG5ldyBzbmlwcGV0XCIpXG4gICAgICAub25DbGljaygoZTogYW55KSA9PiB7XG4gICAgICAgIG5ldyBDcmVhdGVTbmlwcGV0TW9kYWwoYXBwLCBwbHVnaW4pLm9wZW4oKTtcbiAgICAgIH0pO1xuXG4gICAgbWVudS5zaG93QXRQb3NpdGlvbih7XG4gICAgICB4OiB3aW5kb3dYIC0gMTUsXG4gICAgICB5OiB3aW5kb3dZIC0gMzcsXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IGFkZEljb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuZXhwb3J0IGNvbnN0IGljb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICBcImFydC1maWxsXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMjAgMTRjLS4wOTIuMDY0LTIgMi4wODMtMiAzLjVjMCAxLjQ5NC45NDkgMi40NDggMiAyLjVjLjkwNi4wNDQgMi0uODkxIDItMi41YzAtMS41LTEuOTA4LTMuNDM2LTItMy41ek05LjU4NiAyMGMuMzc4LjM3OC44OC41ODYgMS40MTQuNTg2czEuMDM2LS4yMDggMS40MTQtLjU4Nmw3LTdsLS43MDctLjcwN0wxMSA0LjU4Nkw4LjcwNyAyLjI5M0w3LjI5MyAzLjcwN0w5LjU4NiA2TDQgMTEuNTg2Yy0uMzc4LjM3OC0uNTg2Ljg4LS41ODYgMS40MTRzLjIwOCAxLjAzNi41ODYgMS40MTRMOS41ODYgMjB6TTExIDcuNDE0TDE2LjU4NiAxM0g1LjQxNEwxMSA3LjQxNHpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPjwvc3ZnPmAsXG4gIFwiYXJ0LWJydXNoXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNMTggMkg3Yy0xLjEwMyAwLTIgLjg5Ny0yIDJ2M2MwIDEuMTAzLjg5NyAyIDIgMmgxMWMxLjEwMyAwIDItLjg5NyAyLTJWNGMwLTEuMTAzLS44OTctMi0yLTJ6TTcgN1Y0aDExbC4wMDIgM0g3elwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIi8+PHBhdGggZD1cIk0xMyAxNXYtMmMwLTEuMTAzLS44OTctMi0yLTJINFY1Yy0xLjEwMyAwLTIgLjg5Ny0yIDJ2NGMwIDEuMTAzLjg5NyAyIDIgMmg3djJhMSAxIDAgMCAwLTEgMXY1YTEgMSAwIDAgMCAxIDFoMmExIDEgMCAwIDAgMS0xdi01YTEgMSAwIDAgMC0xLTF6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz48L3N2Zz5gLFxuICBcIm1zLWNyZWF0ZS1maWxlXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxnIGNsYXNzPVwiaWNvbi10YWJsZXJcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTIwIDRsLTIgMTQuNWwtNiAybC02LTJMNCA0elwiLz48cGF0aCBkPVwiTTguNSA4aDdMMTEgMTJoNGwtLjUgMy41bC0yLjUuNzVsLTIuNS0uNzVsLS4xLS41XCIvPjwvZz48L3N2Zz5gLFxuICBcInBhbnRvbmUtbGluZVwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjBcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTUuNzY0IDhsLS4yOTUtLjczYTEgMSAwIDAgMSAuNTUzLTEuMzAybDkuMjcyLTMuNzQ2YTEgMSAwIDAgMSAxLjMwMS41NTJsNS42MiAxMy45MDhhMSAxIDAgMCAxLS41NTMgMS4zMDJMMTIuMzkgMjEuNzNhMSAxIDAgMCAxLTEuMzAyLS41NTNMMTEgMjAuOTZWMjFIN2ExIDEgMCAwIDEtMS0xdi0uMjdsLTMuMzUtMS4zNTNhMSAxIDAgMCAxLS41NTItMS4zMDJMNS43NjQgOHpNOCAxOWgyLjIwOUw4IDEzLjUzM1YxOXptLTItNi4yNDRsLTEuNjczIDQuMTQxTDYgMTcuNjA4di00Ljg1MnptMS42OTgtNS4zMDlsNC44NyAxMi4wNTRsNy40MTgtMi45OTdsLTQuODctMTIuMDUzbC03LjQxOCAyLjk5NnptMi45NzggMi4wMzNhMSAxIDAgMSAxLS43NDktMS44NTVhMSAxIDAgMCAxIC43NSAxLjg1NXpcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPjwvc3ZnPmAsXG4gIFwibXMtY29kZVwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZS13aWR0aD1cIjBcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48ZyBmaWxsPVwibm9uZVwiPjxwYXRoIGQ9XCJNMjAgMjFINGEyIDIgMCAwIDEtMi0yVjVhMiAyIDAgMCAxIDItMmgxNmEyIDIgMCAwIDEgMiAydjE0YTIgMiAwIDAgMS0yIDJ6TTQgN3YxMmgxNlY3SDR6bTEwLjcwNyA5LjcwN2wtMS40MTMtMS40MTNMMTUuNTg2IDEzbC0yLjI5My0yLjI5M2wxLjQxNC0xLjQxNEwxOC40MTQgMTNsLTMuNzA2IDMuNzA2bC0uMDAxLjAwMXptLTUuNDE0IDBMNS41ODYgMTNsMy43MDctMy43MDdsMS40MTQgMS40MTRMOC40MTQgMTNsMi4yOTIgMi4yOTNsLTEuNDEzIDEuNDEzdi4wMDF6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz48L2c+PC9zdmc+YCxcbiAgXCJtcy1yZWxvYWRcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNNiA0aDE1YTEgMSAwIDAgMSAxIDF2N2gtMlY2SDZ2M0wxIDVsNS00djN6bTEyIDE2SDNhMSAxIDAgMCAxLTEtMXYtN2gydjZoMTR2LTNsNSA0bC01IDR2LTN6XCIgZmlsbD1cIndoaXRlXCIvPjwvc3ZnPmAsXG4gIFwibXMtZm9sZGVyXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9uZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj48cGF0aCBmaWxsPVwid2hpdGVcIiBkPVwiTTIwIDVoLTguNTg2TDkuNzA3IDMuMjkzQS45OTcuOTk3IDAgMCAwIDkgM0g0Yy0xLjEwMyAwLTIgLjg5Ny0yIDJ2MTRjMCAxLjEwMy44OTcgMiAyIDJoMTZjMS4xMDMgMCAyLS44OTcgMi0yVjdjMC0xLjEwMy0uODk3LTItMi0yek00IDE5VjdoMTZsLjAwMiAxMkg0elwiPjwvcGF0aD48L3N2Zz5gLFxuICBcIm1zLXNuaXBwZXRcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPjxwYXRoIGQ9XCJNNy4zNzUgMTYuNzgxbDEuMjUtMS41NjJMNC42MDEgMTJsNC4wMjQtMy4yMTlsLTEuMjUtMS41NjJsLTUgNGExIDEgMCAwIDAgMCAxLjU2Mmw1IDR6bTkuMjUtOS41NjJsLTEuMjUgMS41NjJMMTkuMzk5IDEybC00LjAyNCAzLjIxOWwxLjI1IDEuNTYybDUtNGExIDEgMCAwIDAgMC0xLjU2MmwtNS00em0tMS42NDktNC4wMDNsLTQgMThsLTEuOTUzLS40MzRsNC0xOHpcIiBmaWxsPVwid2hpdGVcIi8+PC9zdmc+YCxcbiAgXCJtcy1hZGRcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJ3aGl0ZVwiIHN0cm9rZS13aWR0aD1cIjBcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTEzIDdoLTJ2NEg3djJoNHY0aDJ2LTRoNHYtMmgtNHpcIiBmaWxsPVwid2hpdGVcIi8+PHBhdGggZD1cIk0xMiAyQzYuNDg2IDIgMiA2LjQ4NiAyIDEyczQuNDg2IDEwIDEwIDEwczEwLTQuNDg2IDEwLTEwUzE3LjUxNCAyIDEyIDJ6bTAgMThjLTQuNDExIDAtOC0zLjU4OS04LThzMy41ODktOCA4LThzOCAzLjU4OSA4IDhzLTMuNTg5IDgtOCA4elwiIGZpbGw9XCJ3aGl0ZVwiLz48L3N2Zz5gLFxuICBcIm1zLXNhdmVcIjogYDxzdmcgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2U9XCJ3aGl0ZVwiIHN0cm9rZS13aWR0aD1cIjBcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIj48cGF0aCBkPVwiTTUgMjFoMTRhMiAyIDAgMCAwIDItMlY4YTEgMSAwIDAgMC0uMjktLjcxbC00LTRBMSAxIDAgMCAwIDE2IDNINWEyIDIgMCAwIDAtMiAydjE0YTIgMiAwIDAgMCAyIDJ6bTEwLTJIOXYtNWg2ek0xMyA3aC0yVjVoMnpNNSA1aDJ2NGg4VjVoLjU5TDE5IDguNDFWMTloLTJ2LTVhMiAyIDAgMCAwLTItMkg5YTIgMiAwIDAgMC0yIDJ2NUg1elwiIGZpbGw9XCJ3aGl0ZVwiLz48L3N2Zz5gLFxuICBcIm1zLWRlbGV0ZVwiOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHN0cm9rZT1cIndoaXRlXCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNNSAyMGEyIDIgMCAwIDAgMiAyaDEwYTIgMiAwIDAgMCAyLTJWOGgyVjZoLTRWNGEyIDIgMCAwIDAtMi0ySDlhMiAyIDAgMCAwLTIgMnYySDN2Mmgyek05IDRoNnYySDl6TTggOGg5djEySDdWOHpcIiBmaWxsPVwid2hpdGVcIi8+PHBhdGggZD1cIk05IDEwaDJ2OEg5em00IDBoMnY4aC0yelwiIGZpbGw9XCJ3aGl0ZVwiLz48L3N2Zz5gLFxuICBcIm1zLWNzcy1maWxlXCI6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMFwiIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiPjxwYXRoIGQ9XCJNIDYgMiBDIDQuODk1IDIgNCAyLjg5NSA0IDQgTCA0IDkgTCAzIDkgQyAxLjg5NSA5IDEgOS44OTUgMSAxMSBMIDEgMTYgQyAxIDE3LjEwNSAxLjg5NSAxOCAzIDE4IEwgNCAxOCBMIDQgMjAgQyA0IDIxLjEwNSA0Ljg5NSAyMiA2IDIyIEwgMTggMjIgQyAxOS4xMDUgMjIgMjAgMjEuMTA1IDIwIDIwIEwgMjAgNy44MjgxMjUgQyAyMCA3LjI5ODEyNSAxOS43ODkwNjIgNi43ODkwNjI1IDE5LjQxNDA2MiA2LjQxNDA2MjUgTCAxNS41ODU5MzggMi41ODU5Mzc1IEMgMTUuMjEwOTM3IDIuMjEwOTM3NSAxNC43MDE4NzUgMiAxNC4xNzE4NzUgMiBMIDYgMiB6IE0gNiA0IEwgMTQgNCBMIDE0IDcgQyAxNCA3LjU1MiAxNC40NDggOCAxNSA4IEwgMTggOCBMIDE4IDIwIEwgNiAyMCBMIDYgMTggTCAxNSAxOCBDIDE2LjEwNSAxOCAxNyAxNy4xMDUgMTcgMTYgTCAxNyAxMSBDIDE3IDkuODk1IDE2LjEwNSA5IDE1IDkgTCA2IDkgTCA2IDQgeiBNIDUgMTEgQyA2LjEwNSAxMSA3IDExLjg5NSA3IDEzIEwgNiAxMyBDIDYgMTIuNDQ5IDUuNTUxIDEyIDUgMTIgQyA0LjQ0OSAxMiA0IDEyLjQ0OSA0IDEzIEwgNCAxNCBDIDQgMTQuNTUxIDQuNDQ5IDE1IDUgMTUgQyA1LjU1MSAxNSA2IDE0LjU1MSA2IDE0IEwgNyAxNCBDIDcgMTUuMTA1IDYuMTA1IDE2IDUgMTYgQyAzLjg5NSAxNiAzIDE1LjEwNSAzIDE0IEwgMyAxMyBDIDMgMTEuODk1IDMuODk1IDExIDUgMTEgeiBNIDkuNjQ0NTMxMiAxMS4wMDE5NTMgQyAxMS4wNjc1MzEgMTEuMDQyOTUzIDExLjE1NDI5NyAxMi4yODQ4NTkgMTEuMTU0Mjk3IDEyLjUwNTg1OSBMIDEwLjE4NzUgMTIuNTA1ODU5IEMgMTAuMTg3NSAxMi40MDI4NTkgMTAuMjA0OTA2IDExLjgwNjY0MSA5LjYyODkwNjIgMTEuODA2NjQxIEMgOS40NTM5MDYyIDExLjgwNjY0MSA5LjA1OTg0MzggMTEuODg0MTg3IDkuMDg5ODQzOCAxMi4zNjcxODggQyA5LjExODg0MzcgMTIuODA4MTg4IDkuNzAzNTQ2OSAxMy4wMTg0MDYgOS44MTA1NDY5IDEzLjA2NjQwNiBDIDEwLjAzNDU0NyAxMy4xNDg0MDYgMTEuMTQxMzkxIDEzLjY0MjM5MSAxMS4xNTAzOTEgMTQuNjUwMzkxIEMgMTEuMTUyMzkxIDE0Ljg2NDM5MSAxMS4wOTcwNjIgMTUuOTg1IDkuNjY0MDYyNSAxNiBDIDguMTA1MDYyNSAxNi4wMTcgOCAxNC42NzU0MzggOCAxNC4zOTg0MzggTCA4Ljk3NDYwOTQgMTQuMzk4NDM4IEMgOC45NzQ2MDk0IDE0LjU0NTQzOCA4Ljk4NzA2MjUgMTUuMjU2MTcyIDkuNjY0MDYyNSAxNS4yMDExNzIgQyAxMC4wNzEwNjMgMTUuMTY3MTcyIDEwLjE1OTgyOCAxNC44NzQyNSAxMC4xNzM4MjggMTQuNjU2MjUgQyAxMC4xOTU4MjggMTQuMjkwMjUgOS44NDY1NjI1IDE0LjA3MDU3OCA5LjQ3NjU2MjUgMTMuODkyNTc4IEMgOC45NTY1NjI1IDEzLjY0MjU3OCA4LjEzNDE0MDYgMTMuMzM1MzI4IDguMTE5MTQwNiAxMi4zNjEzMjggQyA4LjEwNjE0MDYgMTEuNDg0MzI4IDguNzUwNTMxMiAxMC45NzY5NTMgOS42NDQ1MzEyIDExLjAwMTk1MyB6IE0gMTMuNDkwMjM0IDExLjAwMTk1MyBDIDE0LjkxMzIzNCAxMS4wNDI5NTMgMTUgMTIuMjg0ODU5IDE1IDEyLjUwNTg1OSBMIDE0LjAzMTI1IDEyLjUwNTg1OSBDIDE0LjAzMTI1IDEyLjQwMjg1OSAxNC4wNDg2NTYgMTEuODA2NjQxIDEzLjQ3MjY1NiAxMS44MDY2NDEgQyAxMy4yOTc2NTYgMTEuODA2NjQxIDEyLjkwNTU0NyAxMS44ODQxODcgMTIuOTM1NTQ3IDEyLjM2NzE4OCBDIDEyLjk2NDU0NyAxMi44MDgxODggMTMuNTQ3Mjk3IDEzLjAxODQwNiAxMy42NTQyOTcgMTMuMDY2NDA2IEMgMTMuODc4Mjk3IDEzLjE0ODQwNiAxNC45ODcwOTQgMTMuNjQyMzkxIDE0Ljk5NjA5NCAxNC42NTAzOTEgQyAxNC45OTgwOTQgMTQuODY0MzkxIDE0Ljk0Mjc2NiAxNS45ODUgMTMuNTA5NzY2IDE2IEMgMTEuOTUwNzY2IDE2LjAxNyAxMS44NDU3MDMgMTQuNjc1NDM3IDExLjg0NTcwMyAxNC4zOTg0MzggTCAxMi44MjAzMTIgMTQuMzk4NDM4IEMgMTIuODIwMzEyIDE0LjU0NTQzOCAxMi44MzI3NjYgMTUuMjU2MTcyIDEzLjUwOTc2NiAxNS4yMDExNzIgQyAxMy45MTY3NjYgMTUuMTY3MTcyIDE0LjAwNTUzMSAxNC44NzQyNSAxNC4wMTk1MzEgMTQuNjU2MjUgQyAxNC4wNDE1MzEgMTQuMjkwMjUgMTMuNjkyMjY2IDE0LjA3MDU3OCAxMy4zMjIyNjYgMTMuODkyNTc4IEMgMTIuODAyMjY2IDEzLjY0MjU3OCAxMS45Nzk4NDQgMTMuMzM1MzI4IDExLjk2NDg0NCAxMi4zNjEzMjggQyAxMS45NTE4NDQgMTEuNDg0MzI4IDEyLjU5NjIzNCAxMC45NzY5NTMgMTMuNDkwMjM0IDExLjAwMTk1MyB6XCIgZmlsbD1cImN1cnJlbnRDb2xvclwiLz48L3N2Zz5gLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEljb25zKCkge1xuICBPYmplY3Qua2V5cyhpY29ucykuZm9yRWFjaCgoa2V5KSA9PiB7XG4gICAgYWRkSWNvbihrZXksIGljb25zW2tleV0pO1xuICB9KTtcbn1cbiIsImltcG9ydCB0eXBlIE15U25pcHBldHNQbHVnaW4gZnJvbSBcInNyYy9wbHVnaW4vbWFpblwiO1xuaW1wb3J0IHsgQXBwLCBTZXR0aW5nLCBQbHVnaW5TZXR0aW5nVGFiLCBUZXh0QXJlYUNvbXBvbmVudCB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IHsgc2V0QXR0cmlidXRlcyB9IGZyb20gXCJzcmMvdXRpbC9zZXRBdHRyaWJ1dGVzXCI7XG5cbmV4cG9ydCBjbGFzcyBNeVNuaXBwZXRzU2V0dGluZ1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IE15U25pcHBldHNQbHVnaW47XG4gIGFwcGVuZE1ldGhvZDogc3RyaW5nO1xuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IE15U25pcHBldHNQbHVnaW4pIHtcbiAgICBzdXBlcihhcHAsIHBsdWdpbik7XG4gICAgdGhpcy5wbHVnaW4gPSBwbHVnaW47XG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgxXCIsIHsgdGV4dDogXCJNeVNuaXBwZXRzXCIgfSk7XG4gICAgY29udGFpbmVyRWwuY3JlYXRlRWwoXCJwXCIsIHsgdGV4dDogXCJDcmVhdGVkIGJ5IFwiIH0pLmNyZWF0ZUVsKFwiYVwiLCB7XG4gICAgICB0ZXh0OiBcIkNoZXRhY2hpIPCfkanwn4+94oCN8J+Su1wiLFxuICAgICAgaHJlZjogXCJodHRwczovL2dpdGh1Yi5jb20vY2hldGFjaGllemlrZXV6b3JcIixcbiAgICB9KTtcbiAgICBjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJQbHVnaW4gU2V0dGluZ3NcIiB9KTtcbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiR2xhc3MgbWVudSBlZmZlY3RcIilcbiAgICAgIC5zZXREZXNjKFxuICAgICAgICBcIkNob29zZSB0byBjaGFuZ2UgdGhlIGJhY2tncm91bmQgZnJvbSB0aGUgc2Vjb25kYXJ5IGJhY2tncm91bmQgY29sb3Igb2YgeW91ciB0aGVtZSB0byBhIGdsYXNzIGJhY2tncm91bmQuXCJcbiAgICAgIClcbiAgICAgIC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT4ge1xuICAgICAgICB0b2dnbGVcbiAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYWVzdGhldGljU3R5bGUpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuYWVzdGhldGljU3R5bGUgPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgIC5zZXROYW1lKFwiQXV0byBvcGVuIG5ldyBzbmlwcGV0XCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJDaG9vc2Ugd2hldGhlciBvciBub3QgdG8gb3BlbiBDU1Mgc25pcHBldCBmaWxlcyBpbW1lZGl0YWxleSBhZnRlciBjcmVhdGluZyB0aGVtLiBJdCB3aWxsIG9wZW4gaW4geW91ciBkZWZhdWx0IGFwcC5cIlxuICAgICAgKVxuICAgICAgLmFkZFRvZ2dsZSgodG9nZ2xlKSA9PiB7XG4gICAgICAgIHRvZ2dsZVxuICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5vcGVuU25pcHBldEZpbGUpXG4gICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Mub3BlblNuaXBwZXRGaWxlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTZXQgbmV3IHNuaXBwZXQgc3RhdHVzXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJDaG9vc2Ugd2hldGhlciBvciBub3QgdG8gaGF2ZSBuZXdseSBjcmVhdGVkIENTUyBzbmlwcGV0IGZpbGVzIHRvZ2dsZWQgb24gYXV0b21hdGljYWxseSB1cG9uIGNyZWF0aW9uLlwiXG4gICAgICApXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNuaXBwZXRFbmFibGVkU3RhdHVzKVxuICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNuaXBwZXRFbmFibGVkU3RhdHVzID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgY29uc3Qgc3R5bGluZ1RlbXBsYXRlU2V0dGluZyA9IG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKTtcbiAgICBzdHlsaW5nVGVtcGxhdGVTZXR0aW5nLnNldHRpbmdFbC5zZXRBdHRyaWJ1dGUoXG4gICAgICBcInN0eWxlXCIsXG4gICAgICBcImRpc3BsYXk6IGdyaWQ7IGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyO1wiXG4gICAgKTtcbiAgICBzdHlsaW5nVGVtcGxhdGVTZXR0aW5nXG4gICAgICAuc2V0TmFtZShcIkNTUyBzbmlwcGV0IHRlbXBsYXRlXCIpXG4gICAgICAuc2V0RGVzYyhcbiAgICAgICAgXCJTZXQgZGVmYXVsdCBDU1Mgc3R5bGluZyBhcyBhIHRlbXBsYXRlIGZvciBuZXcgQ1NTIGZpbGVzIHlvdSBjaG9vc2UgdG8gY3JlYXRlLlwiXG4gICAgICApO1xuXG4gICAgY29uc3Qgc3R5bGluZ1RlbXBsYXRlQ29udGVudCA9IG5ldyBUZXh0QXJlYUNvbXBvbmVudChcbiAgICAgIHN0eWxpbmdUZW1wbGF0ZVNldHRpbmcuY29udHJvbEVsXG4gICAgKTtcbiAgICBzZXRBdHRyaWJ1dGVzKHN0eWxpbmdUZW1wbGF0ZUNvbnRlbnQuaW5wdXRFbCwge1xuICAgICAgc3R5bGU6IFwibWFyZ2luLXRvcDogMTJweDsgd2lkdGg6IDEwMCU7ICBoZWlnaHQ6IDMydmg7XCIsXG4gICAgICBjbGFzczogXCJtcy1jc3MtZWRpdG9yXCIsXG4gICAgfSk7XG4gICAgc3R5bGluZ1RlbXBsYXRlQ29udGVudFxuXG4gICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3Muc3R5bGluZ1RlbXBsYXRlKVxuICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zdHlsaW5nVGVtcGxhdGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICB9KTtcblxuICAgIGNvbnN0IG1zRG9uYXRpb25EaXYgPSBjb250YWluZXJFbC5jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICBjbHM6IFwibXNEb25hdGlvblNlY3Rpb25cIixcbiAgICB9KTtcblxuICAgIGNvbnN0IGRvbmF0ZVRleHQgPSBjcmVhdGVFbChcInBcIik7XG4gICAgZG9uYXRlVGV4dC5hcHBlbmRUZXh0KFxuICAgICAgXCJJZiB5b3UgbGlrZSB0aGlzIFBsdWdpbiBhbmQgYXJlIGNvbnNpZGVyaW5nIGRvbmF0aW5nIHRvIHN1cHBvcnQgY29udGludWVkIGRldmVsb3BtZW50LCB1c2UgdGhlIGJ1dHRvbnMgYmVsb3chXCJcbiAgICApO1xuICAgIG1zRG9uYXRpb25EaXYuYXBwZW5kQ2hpbGQoZG9uYXRlVGV4dCk7XG4gICAgbXNEb25hdGlvbkRpdi5hcHBlbmRDaGlsZChcbiAgICAgIHBheXBhbEJ1dHRvbihcImh0dHBzOi8vcGF5cGFsLm1lL2NoZWxzZWFlemlrZXV6b3JcIilcbiAgICApO1xuICAgIG1zRG9uYXRpb25EaXYuYXBwZW5kQ2hpbGQoXG4gICAgICBidXlNZUFDb2ZmZWVCdXR0b24oXCJodHRwczovL3d3dy5idXltZWFjb2ZmZWUuY29tL2NoZXRhY2hpXCIpXG4gICAgKTtcbiAgICBtc0RvbmF0aW9uRGl2LmFwcGVuZENoaWxkKGtvZmlCdXR0b24oXCJodHRwczovL2tvLWZpLmNvbS9jaGV0YWNoaVwiKSk7XG4gIH1cbn1cblxuY29uc3QgYnV5TWVBQ29mZmVlQnV0dG9uID0gKGxpbms6IHN0cmluZyk6IEhUTUxFbGVtZW50ID0+IHtcbiAgY29uc3QgYSA9IGNyZWF0ZUVsKFwiYVwiKTtcbiAgYS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGxpbmspO1xuICBhLmFkZENsYXNzKFwiYnV5bWVhY29mZmVlLWNoZXRhY2hpLWltZ1wiKTtcbiAgYS5pbm5lckhUTUwgPSBgPGltZyBzcmM9XCJodHRwczovL2ltZy5idXltZWFjb2ZmZWUuY29tL2J1dHRvbi1hcGkvP3RleHQ9QnV5IG1lIGEgY29mZmVlJmVtb2ppPSZzbHVnPWNoZXRhY2hpJmJ1dHRvbl9jb2xvdXI9ZTNlN2VmJmZvbnRfY29sb3VyPTI2MjYyNiZmb250X2ZhbWlseT1Qb3BwaW5zJm91dGxpbmVfY29sb3VyPTI2MjYyNiZjb2ZmZWVfY29sb3VyPWZmMDAwMFwiIGhlaWdodD1cIjQycHhcIj4gYDtcbiAgcmV0dXJuIGE7XG59O1xuXG5jb25zdCBwYXlwYWxCdXR0b24gPSAobGluazogc3RyaW5nKTogSFRNTEVsZW1lbnQgPT4ge1xuICBjb25zdCBhID0gY3JlYXRlRWwoXCJhXCIpO1xuICBhLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgbGluayk7XG4gIGEuYWRkQ2xhc3MoXCJidXltZWFjb2ZmZWUtY2hldGFjaGktaW1nXCIpO1xuICBhLmlubmVySFRNTCA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE1MFwiIGhlaWdodD1cIjQwXCI+XG4gIDxwYXRoIGZpbGw9XCIjMjUzQjgwXCIgZD1cIk00Ni4yMTEgNi43NDloLTYuODM5YS45NS45NSAwIDAgMC0uOTM5LjgwMmwtMi43NjYgMTcuNTM3YS41Ny41NyAwIDAgMCAuNTY0LjY1OGgzLjI2NWEuOTUuOTUgMCAwIDAgLjkzOS0uODAzbC43NDYtNC43M2EuOTUuOTUgMCAwIDEgLjkzOC0uODAzaDIuMTY1YzQuNTA1IDAgNy4xMDUtMi4xOCA3Ljc4NC02LjUuMzA2LTEuODkuMDEzLTMuMzc1LS44NzItNC40MTUtLjk3Mi0xLjE0Mi0yLjY5Ni0xLjc0Ni00Ljk4NS0xLjc0NnpNNDcgMTMuMTU0Yy0uMzc0IDIuNDU0LTIuMjQ5IDIuNDU0LTQuMDYyIDIuNDU0aC0xLjAzMmwuNzI0LTQuNTgzYS41Ny41NyAwIDAgMSAuNTYzLS40ODFoLjQ3M2MxLjIzNSAwIDIuNCAwIDMuMDAyLjcwNC4zNTkuNDIuNDY5IDEuMDQ0LjMzMiAxLjkwNnpNNjYuNjU0IDEzLjA3NWgtMy4yNzVhLjU3LjU3IDAgMCAwLS41NjMuNDgxbC0uMTQ1LjkxNi0uMjI5LS4zMzJjLS43MDktMS4wMjktMi4yOS0xLjM3My0zLjg2OC0xLjM3My0zLjYxOSAwLTYuNzEgMi43NDEtNy4zMTIgNi41ODYtLjMxMyAxLjkxOC4xMzIgMy43NTIgMS4yMiA1LjAzMS45OTggMS4xNzYgMi40MjYgMS42NjYgNC4xMjUgMS42NjYgMi45MTYgMCA0LjUzMy0xLjg3NSA0LjUzMy0xLjg3NWwtLjE0Ni45MWEuNTcuNTcgMCAwIDAgLjU2Mi42NmgyLjk1YS45NS45NSAwIDAgMCAuOTM5LS44MDNsMS43Ny0xMS4yMDlhLjU2OC41NjggMCAwIDAtLjU2MS0uNjU4em0tNC41NjUgNi4zNzRjLS4zMTYgMS44NzEtMS44MDEgMy4xMjctMy42OTUgMy4xMjctLjk1MSAwLTEuNzExLS4zMDUtMi4xOTktLjg4My0uNDg0LS41NzQtLjY2OC0xLjM5MS0uNTE0LTIuMzAxLjI5NS0xLjg1NSAxLjgwNS0zLjE1MiAzLjY3LTMuMTUyLjkzIDAgMS42ODYuMzA5IDIuMTg0Ljg5Mi40OTkuNTg5LjY5NyAxLjQxMS41NTQgMi4zMTd6TTg0LjA5NiAxMy4wNzVoLTMuMjkxYS45NTQuOTU0IDAgMCAwLS43ODcuNDE3bC00LjUzOSA2LjY4Ni0xLjkyNC02LjQyNWEuOTUzLjk1MyAwIDAgMC0uOTEyLS42NzhoLTMuMjM0YS41Ny41NyAwIDAgMC0uNTQxLjc1NGwzLjYyNSAxMC42MzgtMy40MDggNC44MTFhLjU3LjU3IDAgMCAwIC40NjUuOWgzLjI4N2EuOTQ5Ljk0OSAwIDAgMCAuNzgxLS40MDhsMTAuOTQ2LTE1LjhhLjU3LjU3IDAgMCAwLS40NjgtLjg5NXpcIj48L3BhdGg+XG4gIDxwYXRoIGZpbGw9XCIjMTc5QkQ3XCIgZD1cIk05NC45OTIgNi43NDloLTYuODRhLjk1Ljk1IDAgMCAwLS45MzguODAybC0yLjc2NiAxNy41MzdhLjU2OS41NjkgMCAwIDAgLjU2Mi42NThoMy41MWEuNjY1LjY2NSAwIDAgMCAuNjU2LS41NjJsLjc4NS00Ljk3MWEuOTUuOTUgMCAwIDEgLjkzOC0uODAzaDIuMTY0YzQuNTA2IDAgNy4xMDUtMi4xOCA3Ljc4NS02LjUuMzA3LTEuODkuMDEyLTMuMzc1LS44NzMtNC40MTUtLjk3MS0xLjE0Mi0yLjY5NC0xLjc0Ni00Ljk4My0xLjc0NnptLjc4OSA2LjQwNWMtLjM3MyAyLjQ1NC0yLjI0OCAyLjQ1NC00LjA2MiAyLjQ1NGgtMS4wMzFsLjcyNS00LjU4M2EuNTY4LjU2OCAwIDAgMSAuNTYyLS40ODFoLjQ3M2MxLjIzNCAwIDIuNCAwIDMuMDAyLjcwNC4zNTkuNDIuNDY4IDEuMDQ0LjMzMSAxLjkwNnpNMTE1LjQzNCAxMy4wNzVoLTMuMjczYS41NjcuNTY3IDAgMCAwLS41NjIuNDgxbC0uMTQ1LjkxNi0uMjMtLjMzMmMtLjcwOS0xLjAyOS0yLjI4OS0xLjM3My0zLjg2Ny0xLjM3My0zLjYxOSAwLTYuNzA5IDIuNzQxLTcuMzExIDYuNTg2LS4zMTIgMS45MTguMTMxIDMuNzUyIDEuMjE5IDUuMDMxIDEgMS4xNzYgMi40MjYgMS42NjYgNC4xMjUgMS42NjYgMi45MTYgMCA0LjUzMy0xLjg3NSA0LjUzMy0xLjg3NWwtLjE0Ni45MWEuNTcuNTcgMCAwIDAgLjU2NC42NmgyLjk0OWEuOTUuOTUgMCAwIDAgLjkzOC0uODAzbDEuNzcxLTExLjIwOWEuNTcxLjU3MSAwIDAgMC0uNTY1LS42NTh6bS00LjU2NSA2LjM3NGMtLjMxNCAxLjg3MS0xLjgwMSAzLjEyNy0zLjY5NSAzLjEyNy0uOTQ5IDAtMS43MTEtLjMwNS0yLjE5OS0uODgzLS40ODQtLjU3NC0uNjY2LTEuMzkxLS41MTQtMi4zMDEuMjk3LTEuODU1IDEuODA1LTMuMTUyIDMuNjctMy4xNTIuOTMgMCAxLjY4Ni4zMDkgMi4xODQuODkyLjUwMS41ODkuNjk5IDEuNDExLjU1NCAyLjMxN3pNMTE5LjI5NSA3LjIzbC0yLjgwNyAxNy44NThhLjU2OS41NjkgMCAwIDAgLjU2Mi42NThoMi44MjJjLjQ2OSAwIC44NjctLjM0LjkzOS0uODAzbDIuNzY4LTE3LjUzNmEuNTcuNTcgMCAwIDAtLjU2Mi0uNjU5aC0zLjE2YS41NzEuNTcxIDAgMCAwLS41NjIuNDgyelwiPjwvcGF0aD5cbiAgPHBhdGggZmlsbD1cIiMyNTNCODBcIiBkPVwiTTcuMjY2IDI5LjE1NGwuNTIzLTMuMzIyLTEuMTY1LS4wMjdIMS4wNjFMNC45MjcgMS4yOTJhLjMxNi4zMTYgMCAwIDEgLjMxNC0uMjY4aDkuMzhjMy4xMTQgMCA1LjI2My42NDggNi4zODUgMS45MjcuNTI2LjYuODYxIDEuMjI3IDEuMDIzIDEuOTE3LjE3LjcyNC4xNzMgMS41ODkuMDA3IDIuNjQ0bC0uMDEyLjA3N3YuNjc2bC41MjYuMjk4YTMuNjkgMy42OSAwIDAgMSAxLjA2NS44MTJjLjQ1LjUxMy43NDEgMS4xNjUuODY0IDEuOTM4LjEyNy43OTUuMDg1IDEuNzQxLS4xMjMgMi44MTItLjI0IDEuMjMyLS42MjggMi4zMDUtMS4xNTIgMy4xODNhNi41NDcgNi41NDcgMCAwIDEtMS44MjUgMmMtLjY5Ni40OTQtMS41MjMuODY5LTIuNDU4IDEuMTA5LS45MDYuMjM2LTEuOTM5LjM1NS0zLjA3Mi4zNTVoLS43M2MtLjUyMiAwLTEuMDI5LjE4OC0xLjQyNy41MjVhMi4yMSAyLjIxIDAgMCAwLS43NDQgMS4zMjhsLS4wNTUuMjk5LS45MjQgNS44NTUtLjA0Mi4yMTVjLS4wMTEuMDY4LS4wMy4xMDItLjA1OC4xMjVhLjE1NS4xNTUgMCAwIDEtLjA5Ni4wMzVINy4yNjZ6XCI+PC9wYXRoPlxuICA8cGF0aCBmaWxsPVwiIzE3OUJEN1wiIGQ9XCJNMjMuMDQ4IDcuNjY3Yy0uMDI4LjE3OS0uMDYuMzYyLS4wOTYuNTUtMS4yMzcgNi4zNTEtNS40NjkgOC41NDUtMTAuODc0IDguNTQ1SDkuMzI2Yy0uNjYxIDAtMS4yMTguNDgtMS4zMjEgMS4xMzJMNi41OTYgMjYuODNsLS4zOTkgMi41MzNhLjcwNC43MDQgMCAwIDAgLjY5NS44MTRoNC44ODFjLjU3OCAwIDEuMDY5LS40MiAxLjE2LS45OWwuMDQ4LS4yNDguOTE5LTUuODMyLjA1OS0uMzJjLjA5LS41NzIuNTgyLS45OTIgMS4xNi0uOTkyaC43M2M0LjcyOSAwIDguNDMxLTEuOTIgOS41MTMtNy40NzYuNDUyLTIuMzIxLjIxOC00LjI1OS0uOTc4LTUuNjIyYTQuNjY3IDQuNjY3IDAgMCAwLTEuMzM2LTEuMDN6XCI+PC9wYXRoPlxuICA8cGF0aCBmaWxsPVwiIzIyMkQ2NVwiIGQ9XCJNMjEuNzU0IDcuMTUxYTkuNzU3IDkuNzU3IDAgMCAwLTEuMjAzLS4yNjcgMTUuMjg0IDE1LjI4NCAwIDAgMC0yLjQyNi0uMTc3aC03LjM1MmExLjE3MiAxLjE3MiAwIDAgMC0xLjE1OS45OTJMOC4wNSAxNy42MDVsLS4wNDUuMjg5YTEuMzM2IDEuMzM2IDAgMCAxIDEuMzIxLTEuMTMyaDIuNzUyYzUuNDA1IDAgOS42MzctMi4xOTUgMTAuODc0LTguNTQ1LjAzNy0uMTg4LjA2OC0uMzcxLjA5Ni0uNTVhNi41OTQgNi41OTQgMCAwIDAtMS4wMTctLjQyOSA5LjA0NSA5LjA0NSAwIDAgMC0uMjc3LS4wODd6XCI+PC9wYXRoPlxuICA8cGF0aCBmaWxsPVwiIzI1M0I4MFwiIGQ9XCJNOS42MTQgNy42OTlhMS4xNjkgMS4xNjkgMCAwIDEgMS4xNTktLjk5MWg3LjM1MmMuODcxIDAgMS42ODQuMDU3IDIuNDI2LjE3N2E5Ljc1NyA5Ljc1NyAwIDAgMSAxLjQ4MS4zNTNjLjM2NS4xMjEuNzA0LjI2NCAxLjAxNy40MjkuMzY4LTIuMzQ3LS4wMDMtMy45NDUtMS4yNzItNS4zOTJDMjAuMzc4LjY4MiAxNy44NTMgMCAxNC42MjIgMGgtOS4zOGMtLjY2IDAtMS4yMjMuNDgtMS4zMjUgMS4xMzNMLjAxIDI1Ljg5OGEuODA2LjgwNiAwIDAgMCAuNzk1LjkzMmg1Ljc5MWwxLjQ1NC05LjIyNSAxLjU2NC05LjkwNnpcIj48L3BhdGg+XG4gIDwvc3ZnPmA7XG4gIHJldHVybiBhO1xufTtcblxuY29uc3Qga29maUJ1dHRvbiA9IChsaW5rOiBzdHJpbmcpOiBIVE1MRWxlbWVudCA9PiB7XG4gIGNvbnN0IGEgPSBjcmVhdGVFbChcImFcIik7XG4gIGEuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBsaW5rKTtcbiAgYS5hZGRDbGFzcyhcImJ1eW1lYWNvZmZlZS1jaGV0YWNoaS1pbWdcIik7XG4gIGEuaW5uZXJIVE1MID0gYDxpbWcgc3JjPVwiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2NoZXRhY2hpZXppa2V1em9yL015U25pcHBldHMtUGx1Z2luL21hc3Rlci9hc3NldHMva29maV9jb2xvci5zdmdcIiBoZWlnaHQ9XCI1MFwiPmA7XG4gIHJldHVybiBhO1xufTtcbiIsImV4cG9ydCBjb25zdCBTTklQUEVUX1ZJRVdfU0lERSA9IFtcInJpZ2h0XCIsIFwibGVmdFwiXTtcblxuZXhwb3J0IGludGVyZmFjZSBNeVNuaXBwZXRzU2V0dGluZ3Mge1xuICBhZXN0aGV0aWNTdHlsZTogYm9vbGVhbjtcbiAgc25pcHBldFZpZXdQb3NpdGlvbjogc3RyaW5nO1xuICBvcGVuU25pcHBldEZpbGU6IGJvb2xlYW47XG4gIHN0eWxpbmdUZW1wbGF0ZTogc3RyaW5nO1xuICBzbmlwcGV0RW5hYmxlZFN0YXR1czogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IE15U25pcHBldHNTZXR0aW5ncyA9IHtcbiAgYWVzdGhldGljU3R5bGU6IGZhbHNlLFxuICBzbmlwcGV0Vmlld1Bvc2l0aW9uOiBcImxlZnRcIixcbiAgb3BlblNuaXBwZXRGaWxlOiB0cnVlLFxuICBzdHlsaW5nVGVtcGxhdGU6IFwiXCIsXG4gIHNuaXBwZXRFbmFibGVkU3RhdHVzOiBmYWxzZSxcbn07XG4iLCJpbXBvcnQgeyBQbHVnaW4sIHNldEljb24gfSBmcm9tIFwib2JzaWRpYW5cIjtcclxuaW1wb3J0IHsgc2V0QXR0cmlidXRlcyB9IGZyb20gXCJzcmMvdXRpbC9zZXRBdHRyaWJ1dGVzXCI7XHJcbmltcG9ydCBzbmlwcGV0c01lbnUgZnJvbSBcInNyYy91aS9zbmlwcGV0c01lbnVcIjtcclxuaW1wb3J0IHsgYWRkSWNvbnMgfSBmcm9tIFwic3JjL2ljb25zL2N1c3RvbUljb25zXCI7XHJcbmltcG9ydCB7IE15U25pcHBldHNTZXR0aW5nVGFiIH0gZnJvbSBcInNyYy9zZXR0aW5ncy9zZXR0aW5nc1RhYlwiO1xyXG5pbXBvcnQge1xyXG4gIE15U25pcHBldHNTZXR0aW5ncyxcclxuICBERUZBVUxUX1NFVFRJTkdTLFxyXG59IGZyb20gXCJzcmMvc2V0dGluZ3Mvc2V0dGluZ3NEYXRhXCI7XHJcbmltcG9ydCBDcmVhdGVTbmlwcGV0TW9kYWwgZnJvbSBcInNyYy9tb2RhbC9jcmVhdGVTbmlwcGV0TW9kYWxcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE15U25pcHBldHNQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xyXG4gIHNldHRpbmdzOiBNeVNuaXBwZXRzU2V0dGluZ3M7XHJcbiAgc3RhdHVzQmFySWNvbjogSFRNTEVsZW1lbnQ7XHJcblxyXG4gIGFzeW5jIG9ubG9hZCgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiTXlTbmlwcGV0cyB2XCIgKyB0aGlzLm1hbmlmZXN0LnZlcnNpb24gKyBcIiBsb2FkZWRcIik7XHJcbiAgICBhZGRJY29ucygpO1xyXG4gICAgYXdhaXQgdGhpcy5sb2FkU2V0dGluZ3MoKTtcclxuICAgIHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgTXlTbmlwcGV0c1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuICAgIHRoaXMuYXBwLndvcmtzcGFjZS5vbkxheW91dFJlYWR5KCgpID0+IHtcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXR1cFNuaXBwZXRzU3RhdHVzQmFySWNvbigpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0dXBTbmlwcGV0c1N0YXR1c0Jhckljb24oKSB7XHJcbiAgICB0aGlzLnN0YXR1c0Jhckljb24gPSB0aGlzLmFkZFN0YXR1c0Jhckl0ZW0oKTtcclxuICAgIHRoaXMuc3RhdHVzQmFySWNvbi5hZGRDbGFzcyhcIk1pbmlTZXR0aW5ncy1zdGF0dXNiYXItYnV0dG9uXCIpO1xyXG4gICAgdGhpcy5zdGF0dXNCYXJJY29uLmFkZENsYXNzKFwibW9kLWNsaWNrYWJsZVwiKTtcclxuXHJcbiAgICBzZXRBdHRyaWJ1dGVzKHRoaXMuc3RhdHVzQmFySWNvbiwge1xyXG4gICAgICBcImFyaWEtbGFiZWxcIjogXCJDb25maWd1cmUgU25pcHBldHNcIixcclxuICAgICAgXCJhcmlhLWxhYmVsLXBvc2l0aW9uXCI6IFwidG9wXCIsXHJcbiAgICB9KTtcclxuICAgIHNldEljb24odGhpcy5zdGF0dXNCYXJJY29uLCBcInBhbnRvbmUtbGluZVwiKTtcclxuXHJcbiAgICB0aGlzLnN0YXR1c0Jhckljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgc25pcHBldHNNZW51KHRoaXMuYXBwLCB0aGlzLCB0aGlzLnNldHRpbmdzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiBgb3Blbi1zbmlwcGV0cy1tZW51YCxcclxuICAgICAgbmFtZTogYE9wZW4gc25pcHBldHMgaW4gc3RhdHVzIGJhcmAsXHJcbiAgICAgIGljb246IGBwYW50b25lLWxpbmVgLFxyXG4gICAgICBjYWxsYmFjazogYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgIHNuaXBwZXRzTWVudSh0aGlzLmFwcCwgdGhpcywgdGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICAgIHRoaXMuYWRkQ29tbWFuZCh7XHJcbiAgICAgIGlkOiBgb3Blbi1zbmlwcGV0cy1jcmVhdGVgLFxyXG4gICAgICBuYW1lOiBgQ3JlYXRlIG5ldyBDU1Mgc25pcHBldGAsXHJcbiAgICAgIGljb246IGBtcy1jc3MtZmlsZWAsXHJcbiAgICAgIGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcbiAgICAgICAgbmV3IENyZWF0ZVNuaXBwZXRNb2RhbCh0aGlzLmFwcCwgdGhpcykub3BlbigpO1xyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBvbnVubG9hZCgpIHtcclxuICAgIGNvbnNvbGUubG9nKFwiTXlTbmlwcGV0cyB1bmxvYWRlZFwiKTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIk1vZGFsIiwiU2V0dGluZyIsIlRleHRDb21wb25lbnQiLCJUZXh0QXJlYUNvbXBvbmVudCIsIk5vdGljZSIsIkJ1dHRvbkNvbXBvbmVudCIsIk1lbnUiLCJUb2dnbGVDb21wb25lbnQiLCJhZGRJY29uIiwiUGx1Z2luU2V0dGluZ1RhYiIsIlBsdWdpbiIsInNldEljb24iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF1REE7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNB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
